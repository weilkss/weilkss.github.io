/*! For license information please see 16.164205a1.chunk.js.LICENSE.txt */
(this["webpackJsonpweilkss.github.io"]=this["webpackJsonpweilkss.github.io"]||[]).push([[16],{203:function(e,n,r){var t;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var a=typeof t;if("string"===a||"number"===a)e.push(t);else if(Array.isArray(t)&&t.length){var l=o.apply(null,t);l&&e.push(l)}else if("object"===a)for(var c in t)r.call(t,c)&&t[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()},211:function(e,n,r){"use strict";var t=r(35);var o=r(65);function a(e){return function(e){if(Array.isArray(e))return Object(t.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(n,"a",(function(){return a}))},253:function(e,n,r){var t,o;void 0===(o="function"===typeof(t=function(){var e={version:"0.2.0"},n=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function r(e,n,r){return e<n?n:e>r?r:e}function t(e){return 100*(-1+e)}e.configure=function(e){var r,t;for(r in e)void 0!==(t=e[r])&&e.hasOwnProperty(r)&&(n[r]=t);return this},e.status=null,e.set=function(l){var c=e.isStarted();l=r(l,n.minimum,1),e.status=1===l?null:l;var s=e.render(!c),i=s.querySelector(n.barSelector),d=n.speed,u=n.easing;return s.offsetWidth,o((function(r){""===n.positionUsing&&(n.positionUsing=e.getPositioningCSS()),a(i,function(e,r,o){var a;return(a="translate3d"===n.positionUsing?{transform:"translate3d("+t(e)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+t(e)+"%,0)"}:{"margin-left":t(e)+"%"}).transition="all "+r+"ms "+o,a}(l,d,u)),1===l?(a(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout((function(){a(s,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){e.remove(),r()}),d)}),d)):setTimeout(r,d)})),this},e.isStarted=function(){return"number"===typeof e.status},e.start=function(){return e.status||e.set(0),n.trickle&&function r(){setTimeout((function(){e.status&&(e.trickle(),r())}),n.trickleSpeed)}(),this},e.done=function(n){return n||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(n){var t=e.status;return t?("number"!==typeof n&&(n=(1-t)*r(Math.random()*t,.1,.95)),t=r(t+n,0,.994),e.set(t)):e.start()},e.trickle=function(){return e.inc(Math.random()*n.trickleRate)},function(){var n=0,r=0;e.promise=function(t){return t&&"resolved"!==t.state()?(0===r&&e.start(),n++,r++,t.always((function(){0===--r?(n=0,e.done()):e.set((n-r)/n)})),this):this}}(),e.render=function(r){if(e.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var o=document.createElement("div");o.id="nprogress",o.innerHTML=n.template;var l,s=o.querySelector(n.barSelector),i=r?"-100":t(e.status||0),u=document.querySelector(n.parent);return a(s,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),n.showSpinner||(l=o.querySelector(n.spinnerSelector))&&d(l),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(o),o},e.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(n.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var o=function(){var e=[];function n(){var r=e.shift();r&&r(n)}return function(r){e.push(r),1==e.length&&n()}}(),a=function(){var e=["Webkit","O","Moz","ms"],n={};function r(r){return r=r.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,n){return n.toUpperCase()})),n[r]||(n[r]=function(n){var r=document.body.style;if(n in r)return n;for(var t,o=e.length,a=n.charAt(0).toUpperCase()+n.slice(1);o--;)if((t=e[o]+a)in r)return t;return n}(r))}function t(e,n,t){n=r(n),e.style[n]=t}return function(e,n){var r,o,a=arguments;if(2==a.length)for(r in n)void 0!==(o=n[r])&&n.hasOwnProperty(r)&&t(e,r,o);else t(e,a[1],a[2])}}();function l(e,n){return("string"==typeof e?e:i(e)).indexOf(" "+n+" ")>=0}function c(e,n){var r=i(e),t=r+n;l(r,n)||(e.className=t.substring(1))}function s(e,n){var r,t=i(e);l(e,n)&&(r=t.replace(" "+n+" "," "),e.className=r.substring(1,r.length-1))}function i(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})?t.call(n,r,n,e):t)||(e.exports=o)},254:function(e,n){e.exports='<p><img src=http://file.weilkss.cn/javasciriot111111.jpeg alt=""></p> <h3 id=\u521b\u5efa-array-\u5bf9\u8c61\u7684\u8bed\u6cd5\uff1a>\u521b\u5efa <code>Array</code> \u5bf9\u8c61\u7684\u8bed\u6cd5\uff1a</h3> <pre><code class=language-js>new Array();\nnew Array(size);\nnew Array(element0, element1, ..., elementn);</code></pre> <h3 id=\u53c2\u6570>\u53c2\u6570</h3> <p>\u53c2\u6570 <code>size</code> \u662f\u671f\u671b\u7684\u6570\u7ec4\u5143\u7d20\u4e2a\u6570\u3002\u8fd4\u56de\u7684\u6570\u7ec4\uff0c<code>length</code> \u5b57\u6bb5\u5c06\u88ab\u8bbe\u4e3a <code>size</code> \u7684\u503c\u3002</p> <p>\u53c2\u6570 <code>element</code> <code>...</code>, <code>elementn</code> \u662f\u53c2\u6570\u5217\u8868\u3002\u5f53\u4f7f\u7528\u8fd9\u4e9b\u53c2\u6570\u6765\u8c03\u7528\u6784\u9020\u51fd\u6570 <code>Array()</code> \u65f6\uff0c\u65b0\u521b\u5efa\u7684\u6570\u7ec4\u7684\u5143\u7d20\u5c31\u4f1a\u88ab\u521d\u59cb\u5316\u4e3a\u8fd9\u4e9b\u503c\u3002\u5b83\u7684 <code>length</code> \u5b57\u6bb5\u4e5f\u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u53c2\u6570\u7684\u4e2a\u6570\u3002</p> <h3 id=\u8fd4\u56de\u503c>\u8fd4\u56de\u503c</h3> <p>\u8fd4\u56de\u65b0\u521b\u5efa\u5e76\u88ab\u521d\u59cb\u5316\u4e86\u7684\u6570\u7ec4\u3002</p> <h2 id=array-\u5bf9\u8c61\u5c5e\u6027><code>Array</code> \u5bf9\u8c61\u5c5e\u6027</h2> <table> <thead> <tr> <th>\u5c5e\u6027</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>constructor</td> <td>\u8fd4\u56de\u5bf9\u521b\u5efa\u6b64\u5bf9\u8c61\u7684\u6570\u7ec4\u51fd\u6570\u7684\u5f15\u7528</td> </tr> <tr> <td>length</td> <td>\u8bbe\u7f6e\u6216\u8fd4\u56de\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6570\u76ee</td> </tr> <tr> <td>prototype</td> <td>\u4f7f\u60a8\u6709\u80fd\u529b\u5411\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5</td> </tr> </tbody></table> <h2 id=array-\u5bf9\u8c61\u65b9\u6cd5><code>Array</code> \u5bf9\u8c61\u65b9\u6cd5</h2> <h3 id=arrayfrom>Array.from()</h3> <blockquote> <p><code>Array.from()</code> \u65b9\u6cd5\u4ece\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u6216\u53ef\u8fed\u4ee3\u5bf9\u8c61\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\uff0c\u6d45\u62f7\u8d1d\u7684\u6570\u7ec4\u5b9e\u4f8b</p> </blockquote> <h4 id=\u8bed\u6cd5>\u8bed\u6cd5</h4> <pre><code class=language-js>const ary = Array.from(arrayLike[, mapFn[, thisArg]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>arrayLike</td> <td>\u8fd4\u56de\u5bf9\u521b\u5efa\u6b64\u5bf9\u8c61\u7684\u6570\u7ec4\u51fd\u6570\u7684\u5f15\u7528</td> </tr> <tr> <td>mapFn</td> <td><code>\u53ef\u9009</code> \u8bbe\u7f6e\u6216\u8fd4\u56de\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u6570\u76ee</td> </tr> <tr> <td>thisArg</td> <td><code>\u53ef\u9009</code> \u4f7f\u60a8\u6709\u80fd\u529b\u5411\u5bf9\u8c61\u6dfb\u52a0\u5c5e\u6027\u548c\u65b9\u6cd5</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> ary \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u5b9e\u4f8b</p> <h4 id=\u793a\u4f8b>\u793a\u4f8b</h4> <ul> <li><strong>\u4ece String \u751f\u6210\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>Array.from(&#39;foo&#39;);\n// [ &quot;f&quot;, &quot;o&quot;, &quot;o&quot; ]</code></pre> <ul> <li><strong>\u4ece Set \u751f\u6210\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const set = new Set([&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;, &#39;foo&#39;]);\nArray.from(set);\n// [ &quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot; ]</code></pre> <ul> <li><strong>\u4ece Map \u751f\u6210\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const map = new Map([\n  [1, 2],\n  [2, 4],\n  [4, 8]\n]);\nArray.from(map);\n// [[1, 2], [2, 4], [4, 8]]\n\nconst mapper = new Map([\n  [&#39;1&#39;, &#39;a&#39;],\n  [&#39;2&#39;, &#39;b&#39;]\n]);\nArray.from(mapper.values());\n// [&#39;a&#39;, &#39;b&#39;];\n\nArray.from(mapper.keys());\n// [&#39;1&#39;, &#39;2&#39;];</code></pre> <ul> <li><strong>\u4ece\u7c7b\u6570\u7ec4\u5bf9\u8c61 <code>arguments</code> \u751f\u6210\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>function f() {\n  return Array.from(arguments);\n}\n\nf(1, 2, 3);\n// [ 1, 2, 3 ]</code></pre> <ul> <li><strong>\u5728 <code>Array.from</code>\u4e2d\u4f7f\u7528\u7bad\u5934\u51fd\u6570</strong></li> </ul> <pre><code class=language-js>Array.from([1, 2, 3], x =&gt; x + x);\n// [2, 4, 6]\n\nArray.from({ length: 5 }, (v, i) =&gt; i);\n//</code></pre> <ul> <li><strong>\u6570\u7ec4\u53bb\u91cd\u5408\u5e76</strong></li> </ul> <pre><code class=language-js>function combine() {\n  let arr = [].concat.apply([], arguments);\n  return Array.from(new Set(arr));\n}\n\nvar m = [1, 2, 2],\n  n = [2, 3, 3];\nconsole.log(combine(m, n)); // [1, 2, 3]</code></pre> <h3 id=arrayisarray>Array.isArray()</h3> <blockquote> <p><code>Array.isArray()</code> \u7528\u4e8e\u786e\u5b9a\u4f20\u9012\u7684\u503c\u662f\u5426\u662f\u4e00\u4e2a <code>Array</code></p> </blockquote> <h4 id=\u8bed\u6cd5-1>\u8bed\u6cd5</h4> <pre><code class=language-js>const isArray = Array.isArray(obj);</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>obj</td> <td>\u9700\u8981\u68c0\u6d4b\u7684\u503c</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u5982\u679c\u503c\u662f Array\uff0cisArray \u5219\u4e3a true; \u5426\u5219\u4e3a false</p> <h4 id=\u793a\u4f8b-1>\u793a\u4f8b</h4> <pre><code class=language-js>// \u4e0b\u9762\u7684\u51fd\u6570\u8c03\u7528\u90fd\u8fd4\u56de true\nArray.isArray([]);\nArray.isArray([1]);\nArray.isArray(new Array());\nArray.isArray(new Array(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;));\n// \u9c9c\u4e3a\u4eba\u77e5\u7684\u4e8b\u5b9e\uff1a\u5176\u5b9e Array.prototype \u4e5f\u662f\u4e00\u4e2a\u6570\u7ec4\u3002\nArray.isArray(Array.prototype);\n\n// \u4e0b\u9762\u7684\u51fd\u6570\u8c03\u7528\u90fd\u8fd4\u56de false\nArray.isArray();\nArray.isArray({});\nArray.isArray(null);\nArray.isArray(undefined);\nArray.isArray(17);\nArray.isArray(&#39;Array&#39;);\nArray.isArray(true);\nArray.isArray(false);\nArray.isArray(new Uint8Array(32));\nArray.isArray({ __proto__: Array.prototype });</code></pre> <h3 id=arrayof>Array.of()</h3> <blockquote> <p><code>Array.of()</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5177\u6709\u53ef\u53d8\u6570\u91cf\u53c2\u6570\u7684\u65b0\u6570\u7ec4\u5b9e\u4f8b\uff0c\u800c\u4e0d\u8003\u8651\u53c2\u6570\u7684\u6570\u91cf\u6216\u7c7b\u578b</p> </blockquote> <h4 id=\u8bed\u6cd5-2>\u8bed\u6cd5</h4> <pre><code class=language-js>const ary = Array.of(element0[, element1[, ...[, elementN]]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>elementN</td> <td>\u4efb\u610f\u4e2a\u53c2\u6570\uff0c\u5c06\u6309\u987a\u5e8f\u6210\u4e3a\u8fd4\u56de\u6570\u7ec4\u4e2d\u7684\u5143\u7d20</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de\u65b0\u7684 Array \u5b9e\u4f8b</p> <h4 id=\u793a\u4f8b-2>\u793a\u4f8b</h4> <pre><code class=language-js>Array.of(1); // [1]\nArray.of(1, 2, 3); // [1, 2, 3]\nArray.of(undefined); // [undefined]</code></pre> <ul> <li><strong>\u517c\u5bb9\u65e7\u73af\u5883</strong></li> </ul> <blockquote> <p>\u5982\u679c\u539f\u751f\u4e0d\u652f\u6301\u7684\u8bdd\uff0c\u5728\u5176\u4ed6\u4ee3\u7801\u4e4b\u524d\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u4f1a\u521b\u5efa <code>Array.of()</code></p> </blockquote> <pre><code class=language-js>if (!Array.of) {\n  Array.of = function () {\n    return Array.prototype.slice.call(arguments);\n  };\n}</code></pre> <h3 id=arrayprototypeconcat>Array.prototype.concat()</h3> <blockquote> <p><code>concat()</code> \u65b9\u6cd5\u7528\u4e8e\u5408\u5e76\u4e24\u4e2a\u6216\u591a\u4e2a\u6570\u7ec4\u3002\u6b64\u65b9\u6cd5\u4e0d\u4f1a\u66f4\u6539\u73b0\u6709\u6570\u7ec4\uff0c\u800c\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u6570\u7ec4</p> </blockquote> <h4 id=\u8bed\u6cd5-3>\u8bed\u6cd5</h4> <pre><code class=language-js>const newArray = oldArray.concat(value1[, value2[, ...[, valueN]]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>valueN</td> <td>\u5c06\u6570\u7ec4\u548c/\u6216\u503c\u8fde\u63a5\u6210\u65b0\u6570\u7ec4\u3002\u5982\u679c\u7701\u7565\u4e86 valueN \u53c2\u6570\u53c2\u6570\uff0c\u5219 concat \u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b83\u6240\u8c03\u7528\u7684\u5df2\u5b58\u5728\u7684\u6570\u7ec4\u7684\u6d45\u62f7\u8d1d</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u65b0\u7684 Array \u5b9e\u4f8b</p> <h4 id=\u793a\u4f8b-3>\u793a\u4f8b</h4> <ul> <li><strong>\u8fde\u63a5\u4e24\u4e2a\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const alpha = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\nconst numeric = [1, 2, 3];\n\nconst newary = alpha.concat(numeric);\n\n// newary in [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, 1, 2, 3]</code></pre> <ul> <li><strong>\u8fde\u63a5\u4e09\u4e2a\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const num1 = [1, 2, 3],\n  num2 = [4, 5, 6],\n  num3 = [7, 8, 9];\n\nconst nums = num1.concat(num2, num3);\n\n// nums in [1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre> <ul> <li><strong>\u5c06\u503c\u8fde\u63a5\u5230\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const alpha = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\n\nconst alphaNumeric = alpha.concat(1, [2, 3]);\n\n// alphaNumeric in [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, 1, 2, 3]</code></pre> <ul> <li><strong>\u5408\u5e76\u5d4c\u5957\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const num1 = [[1]];\nconst num2 = [2, [3]];\nconst num3 = [5, [6]];\n\nconst nums = num1.concat(num2);\n// nums is [[1], 2, [3]]\n\nconst nums2 = num1.concat(4, num3);\n// nums2 is [[1], 4, 5,[6]]\n\nnum1[0].push(4);\n// nums is [[1, 4], 2, [3]]</code></pre> <h3 id=arrayprototypecopywithin>Array.prototype.copyWithin()</h3> <blockquote> <p><code>copyWithin()</code> \u65b9\u6cd5\u6d45\u590d\u5236\u6570\u7ec4\u7684\u4e00\u90e8\u5206\u5230\u540c\u4e00\u6570\u7ec4\u4e2d\u7684\u53e6\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5e76\u8fd4\u56de\u5b83\uff0c\u4e0d\u4f1a\u6539\u53d8\u539f\u6570\u7ec4\u7684\u957f\u5ea6</p> </blockquote> <h4 id=\u8bed\u6cd5-4>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.copyWithin(target[, start[, end]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>target</td> <td>0 \u4e3a\u57fa\u5e95\u7684\u7d22\u5f15\uff0c\u590d\u5236\u5e8f\u5217\u5230\u8be5\u4f4d\u7f6e\u3002 \u5982\u679c\u662f\u8d1f\u6570\uff0ctarget \u5c06\u4ece\u672b\u5c3e\u5f00\u59cb\u8ba1\u7b97,\u5982\u679c target \u5927\u4e8e\u7b49\u4e8e arr.length\uff0c\u5c06\u4f1a\u4e0d\u53d1\u751f\u62f7\u8d1d\u3002\u5982\u679c target \u5728 start \u4e4b\u540e\uff0c\u590d\u5236\u7684\u5e8f\u5217\u5c06\u88ab\u4fee\u6539\u4ee5\u7b26\u5408 arr.length</td> </tr> <tr> <td>start</td> <td>0 \u4e3a\u57fa\u5e95\u7684\u7d22\u5f15\uff0c\u5f00\u59cb\u590d\u5236\u5143\u7d20\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002\u5982\u679c\u662f\u8d1f\u6570\uff0cstart \u5c06\u4ece\u672b\u5c3e\u5f00\u59cb\u8ba1\u7b97,\u5982\u679c start \u88ab\u5ffd\u7565\uff0ccopyWithin \u5c06\u4f1a\u4ece 0 \u5f00\u59cb\u590d\u5236</td> </tr> <tr> <td>end</td> <td>0 \u4e3a\u57fa\u5e95\u7684\u7d22\u5f15\uff0c\u5f00\u59cb\u590d\u5236\u5143\u7d20\u7684\u7ed3\u675f\u4f4d\u7f6e\u3002copyWithin \u5c06\u4f1a\u62f7\u8d1d\u5230\u8be5\u4f4d\u7f6e\uff0c\u4f46\u4e0d\u5305\u62ec end \u8fd9\u4e2a\u4f4d\u7f6e\u7684\u5143\u7d20\u3002\u5982\u679c\u662f\u8d1f\u6570\uff0c end \u5c06\u4ece\u672b\u5c3e\u5f00\u59cb\u8ba1\u7b97 .\u5982\u679c end \u88ab\u5ffd\u7565\uff0ccopyWithin \u65b9\u6cd5\u5c06\u4f1a\u4e00\u76f4\u590d\u5236\u81f3\u6570\u7ec4\u7ed3\u5c3e\uff08\u9ed8\u8ba4\u4e3a arr.length\uff09</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de\u6539\u53d8\u540e\u7684\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-4>\u793a\u4f8b</h4> <pre><code class=language-js>[1, 2, 3, 4, 5].copyWithin(-2)\n// [1, 2, 3, 1, 2]\n\n[1, 2, 3, 4, 5].copyWithin(0, 3)\n// [4, 5, 3, 4, 5]\n\n[1, 2, 3, 4, 5].copyWithin(0, 3, 4)\n// [4, 2, 3, 4, 5]\n\n[1, 2, 3, 4, 5].copyWithin(-2, -3, -1)\n// [1, 2, 3, 3, 4]\n\n[].copyWithin.call({length: 5, 3: 1}, 0, 3);\n// {0: 1, 3: 1, length: 5}\n\n//ES2015 Typed Arrays\u662fArray\u7684\u5b50\u200b\u200b\u7c7b\nconst i32a = new Int32Array([1, 2, 3, 4, 5]);\n\ni32a.copyWithin(0, 2);\n// Int32Array [3, 4, 5, 4, 5]\n\n[].copyWithin.call(new Int32Array([1, 2, 3, 4, 5]), 0, 3, 4);\n// Int32Array [4, 2, 3, 4, 5]</code></pre> <h3 id=arrayprototypeentries>Array.prototype.entries()</h3> <blockquote> <p><code>entries()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 <code>Array Iterator</code> \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5305\u542b\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u7d22\u5f15\u7684\u952e/\u503c\u5bf9</p> </blockquote> <h4 id=\u8bed\u6cd5-5>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.entries();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de \u4e00\u4e2a\u65b0\u7684 Array \u8fed\u4ee3\u5668\u5bf9\u8c61</p> <h4 id=\u793a\u4f8b-5>\u793a\u4f8b</h4> <ul> <li><strong>Array Iterator</strong></li> </ul> <pre><code class=language-js>const arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\nconst iterator = arr.entries();\n\nconsole.log(iterator);\n/*Array Iterator {}\n         __proto__:Array Iterator\n         next:\u0192 next()\n         Symbol(Symbol.toStringTag):&quot;Array Iterator&quot;\n         __proto__:Object\n*/</code></pre> <ul> <li><strong>iterator.next()</strong></li> </ul> <pre><code class=language-js>const arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\nconst iterator = arr.entries();\n\nconsole.log(iterator.next());\n/*{value: Array(2), done: false}\n          done:false\n          value:(2) [0, &quot;a&quot;]\n           __proto__: Object\n*/\n// iterator.next()\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u6709\u5143\u7d20\u7684\u6570\u7ec4\uff0c\n// \u662fnext{ value: Array(2), done: false }\uff1b\n// next.done \u7528\u4e8e\u6307\u793a\u8fed\u4ee3\u5668\u662f\u5426\u5b8c\u6210\uff1a\u5728\u6bcf\u6b21\u8fed\u4ee3\u65f6\u8fdb\u884c\u66f4\u65b0\u800c\u4e14\u90fd\u662ffalse\uff0c\n// \u76f4\u5230\u8fed\u4ee3\u5668\u7ed3\u675fdone\u624d\u662ftrue\u3002\n// next.value\u662f\u4e00\u4e2a[&quot;key&quot;,&quot;value&quot;]\u7684\u6570\u7ec4\uff0c\u662f\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u4e2d\u7684\u5143\u7d20\u503c\u3002</code></pre> <ul> <li><strong>iterator.next \u65b9\u6cd5\u8fd0\u884c</strong></li> </ul> <pre><code class=language-js>const arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\nconst iter = arr.entries();\nconst a = [];\n\n// for(var i=0; i&lt; arr.length; i++){   // \u5b9e\u9645\u4f7f\u7528\u7684\u662f\u8fd9\u4e2a\nfor (let i = 0; i &lt; arr.length + 1; i++) {\n  // \u6ce8\u610f\uff0c\u662flength+1\uff0c\u6bd4\u6570\u7ec4\u7684\u957f\u5ea6\u5927\n  const tem = iter.next(); // \u6bcf\u6b21\u8fed\u4ee3\u65f6\u66f4\u65b0next\n\n  console.log(tem.done); // \u8fd9\u91cc\u53ef\u4ee5\u770b\u5230\u66f4\u65b0\u540e\u7684done\u90fd\u662ffalse\n  if (tem.done !== true) {\n    // \u904d\u5386\u8fed\u4ee3\u5668\u7ed3\u675fdone\u624d\u662ftrue\n    console.log(tem.value);\n    a[i] = tem.value;\n  }\n}\n\nconsole.log(a); // \u904d\u5386\u5b8c\u6bd5\uff0c\u8f93\u51fanext.value\u7684\u6570\u7ec4</code></pre> <ul> <li><strong>\u4e8c\u7ef4\u6570\u7ec4\u6309\u884c\u6392\u5e8f</strong></li> </ul> <pre><code class=language-js>function sortArr(arr) {\n  let goNext = true;\n  const entries = arr.entries();\n  while (goNext) {\n    const result = entries.next();\n    if (result.done !== true) {\n      result.value[1].sort((a, b) =&gt; a - b);\n      goNext = true;\n    } else {\n      goNext = false;\n    }\n  }\n  return arr;\n}\n\nconst arr = [\n  [1, 34],\n  [456, 2, 3, 44, 234],\n  [4567, 1, 4, 5, 6],\n  [34, 78, 23, 1]\n];\nsortArr(arr);\n\n/*(4) [Array(2), Array(5), Array(5), Array(4)]\n    0:(2) [1, 34]\n    1:(5) [2, 3, 44, 234, 456]\n    2:(5) [1, 4, 5, 6, 4567]\n    3:(4) [1, 23, 34, 78]\n    length:4\n    __proto__:Array(0)\n*/</code></pre> <ul> <li><strong>\u4f7f\u7528 for\u2026of \u5faa\u73af</strong></li> </ul> <pre><code class=language-js>const arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\nconst iterator = arr.entries();\n// undefined\n\nfor (let e of iterator) {\n  console.log(e);\n}\n\n// [0, &quot;a&quot;]\n// [1, &quot;b&quot;]\n// [2, &quot;c&quot;]</code></pre> <h3 id=arrayprototypeevery>Array.prototype.every()</h3> <blockquote> <p><code>every()</code> \u65b9\u6cd5\u6d4b\u8bd5\u4e00\u4e2a\u6570\u7ec4\u5185\u7684\u6240\u6709\u5143\u7d20\u662f\u5426\u90fd\u80fd\u901a\u8fc7\u67d0\u4e2a\u6307\u5b9a\u51fd\u6570\u7684\u6d4b\u8bd5\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c</p> </blockquote> <ul> <li><strong>\u6ce8\u610f\uff1a</strong> \u82e5\u6536\u5230\u4e00\u4e2a\u7a7a\u6570\u7ec4\uff0c\u6b64\u65b9\u6cd5\u5728\u4e00\u5207\u60c5\u51b5\u4e0b\u90fd\u4f1a\u8fd4\u56de true</li> </ul> <h4 id=\u8bed\u6cd5-6>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.every(callback[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>\u7528\u6765\u6d4b\u8bd5\u6bcf\u4e2a\u5143\u7d20\u7684\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u63a5\u6536\u4e09\u4e2a\u53c2\u6570:<code>element:\u7528\u4e8e\u6d4b\u8bd5\u7684\u5f53\u524d\u503c</code>,<code>index:\u7528\u4e8e\u6d4b\u8bd5\u7684\u5f53\u524d\u503c\u7684\u7d22\u5f15</code>,<code>array:\u8c03\u7528 every \u7684\u5f53\u524d\u6570\u7ec4</code></td> </tr> <tr> <td>thisArg</td> <td>\u4efb\u610f\u4e2a\u53c2\u6570\uff0c\u5c06\u6309\u987a\u5e8f\u6210\u4e3a\u8fd4\u56de\u6570\u7ec4\u4e2d\u7684\u5143\u7d20</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u5982\u679c\u56de\u8c03\u51fd\u6570\u7684\u6bcf\u4e00\u6b21\u8fd4\u56de\u90fd\u4e3a truthy \u503c\uff0c\u8fd4\u56de true \uff0c\u5426\u5219\u8fd4\u56de false</p> <h4 id=\u793a\u4f8b-6>\u793a\u4f8b</h4> <ul> <li><strong>\u68c0\u6d4b\u6240\u6709\u6570\u7ec4\u5143\u7d20\u7684\u5927\u5c0f</strong></li> </ul> <pre><code class=language-js>function isBigEnough(element, index, array) {\n  return element &gt;= 10;\n}\n[12, 5, 8, 130, 44].every(isBigEnough); // false\n[12, 54, 18, 130, 44].every(isBigEnough); // true</code></pre> <ul> <li><strong>\u4f7f\u7528\u7bad\u5934\u51fd\u6570</strong></li> </ul> <pre><code class=language-js>[12, 5, 8, 130, 44].every(x =&gt; x &gt;= 10); // false\n[12, 54, 18, 130, 44].every(x =&gt; x &gt;= 10); // true</code></pre> <h3 id=arrayprototypefill>Array.prototype.fill()</h3> <blockquote> <p><code>fill()</code> \u65b9\u6cd5\u7528\u4e00\u4e2a\u56fa\u5b9a\u503c\u586b\u5145\u4e00\u4e2a\u6570\u7ec4\u4e2d\u4ece\u8d77\u59cb\u7d22\u5f15\u5230\u7ec8\u6b62\u7d22\u5f15\u5185\u7684\u5168\u90e8\u5143\u7d20\u3002\u4e0d\u5305\u62ec\u7ec8\u6b62\u7d22\u5f15\u3002</p> </blockquote> <h4 id=\u8bed\u6cd5-7>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.fill(value[, start[, end]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>value</td> <td>\u7528\u6765\u586b\u5145\u6570\u7ec4\u5143\u7d20\u7684\u503c</td> </tr> <tr> <td>start</td> <td>\u8d77\u59cb\u7d22\u5f15\uff0c\u9ed8\u8ba4\u503c\u4e3a 0<code>[\u53ef\u9009]</code></td> </tr> <tr> <td>end</td> <td>\u7ec8\u6b62\u7d22\u5f15\uff0c\u9ed8\u8ba4\u503c\u4e3a this.length<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4fee\u6539\u540e\u7684\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-7>\u793a\u4f8b</h4> <pre><code class=language-js>[1, 2, 3].fill(4); // [4, 4, 4]\n[1, 2, 3].fill(4, 1); // [1, 4, 4]\n[1, 2, 3].fill(4, 1, 2); // [1, 4, 3]\n[1, 2, 3].fill(4, 1, 1); // [1, 2, 3]\n[1, 2, 3].fill(4, 3, 3); // [1, 2, 3]\n[1, 2, 3].fill(4, -3, -2); // [4, 2, 3]\n[1, 2, 3].fill(4, NaN, NaN); // [1, 2, 3]\n[1, 2, 3].fill(4, 3, 5); // [1, 2, 3]\nArray(3).fill(4); // [4, 4, 4]\n[].fill.call({ length: 3 }, 4); // {0: 4, 1: 4, 2: 4, length: 3}\n\n// Objects by reference.\nvar arr = Array(3).fill({}); // [{}, {}, {}];\n// \u9700\u8981\u6ce8\u610f\u5982\u679cfill\u7684\u53c2\u6570\u4e3a\u5f15\u7528\u7c7b\u578b\uff0c\u4f1a\u5bfc\u81f4\u90fd\u6267\u884c\u90fd\u4e00\u4e2a\u5f15\u7528\u7c7b\u578b\n// \u5982 arr[0] === arr[1] \u4e3atrue\narr[0].hi = &#39;hi&#39;; // [{ hi: &quot;hi&quot; }, { hi: &quot;hi&quot; }, { hi: &quot;hi&quot; }]</code></pre> <h3 id=arrayprototypefilter>Array.prototype.filter()</h3> <blockquote> <p><code>filter()</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4, \u5176\u5305\u542b\u901a\u8fc7\u6240\u63d0\u4f9b\u51fd\u6570\u5b9e\u73b0\u7684\u6d4b\u8bd5\u7684\u6240\u6709\u5143\u7d20\u3002</p> </blockquote> <h4 id=\u8bed\u6cd5-8>\u8bed\u6cd5</h4> <pre><code class=language-js>var newArray = arr.filter(callback(element[, index[, array]])[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>1.<code>element</code>-\u6570\u7ec4\u4e2d\u5f53\u524d\u6b63\u5728\u5904\u7406\u7684\u5143\u7d20;2.<code>index[\u53ef\u9009]</code>-\u6b63\u5728\u5904\u7406\u7684\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15;3.<code>array[\u53ef\u9009]</code>-\u8c03\u7528\u4e86 filter \u7684\u6570\u7ec4\u672c\u8eab</td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c <code>callback</code> \u65f6\uff0c\u7528\u4e8e <code>this</code> \u7684\u503c</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u3001\u7531\u901a\u8fc7\u6d4b\u8bd5\u7684\u5143\u7d20\u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u6570\u7ec4\u5143\u7d20\u901a\u8fc7\u6d4b\u8bd5\uff0c\u5219\u8fd4\u56de\u7a7a\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-8>\u793a\u4f8b</h4> <ul> <li><strong>\u7b5b\u9009\u6392\u9664\u6240\u6709\u8f83\u5c0f\u7684\u503c</strong></li> </ul> <p>\u4e0b\u4f8b\u4f7f\u7528 <code>filter</code> \u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u7684\u5143\u7d20\u7531\u539f\u6570\u7ec4\u4e2d\u503c\u5927\u4e8e <code>10</code> \u7684\u5143\u7d20\u7ec4\u6210</p> <pre><code class=language-js>function isBigEnough(element) {\n  return element &gt;= 10;\n}\nconst filtered = [12, 5, 8, 130, 44].filter(isBigEnough);\n// filtered is [12, 130, 44]</code></pre> <ul> <li><strong>\u8fc7\u6ee4 JSON \u4e2d\u7684\u65e0\u6548\u6761\u76ee</strong></li> </ul> <p>\u4ee5\u4e0b\u793a\u4f8b\u4f7f\u7528 <code>filter()</code> \u521b\u5efa\u5177\u6709\u975e\u96f6 <code>id</code> \u7684\u5143\u7d20\u7684 <code>json</code></p> <pre><code class=language-js>var arr = [{ id: 15 }, { id: -1 }, { id: 0 }, { id: 3 }, { id: 12.2 }, {}, { id: null }, { id: NaN }, { id: &#39;undefined&#39; }];\n\nvar invalidEntries = 0;\n\nfunction isNumber(obj) {\n  return obj !== undefined &amp;&amp; typeof obj === &#39;number&#39; &amp;&amp; !isNaN(obj);\n}\n\nfunction filterByID(item) {\n  if (isNumber(item.id) &amp;&amp; item.id !== 0) {\n    return true;\n  }\n  invalidEntries++;\n  return false;\n}\n\nvar arrByID = arr.filter(filterByID);\n\nconsole.log(&#39;Filtered Array\\n&#39;, arrByID);\n// Filtered Array\n// [{ id: 15 }, { id: -1 }, { id: 3 }, { id: 12.2 }]\n\nconsole.log(&#39;Number of Invalid Entries = &#39;, invalidEntries);\n// Number of Invalid Entries = 5</code></pre> <ul> <li><strong>\u5728\u6570\u7ec4\u4e2d\u641c\u7d22</strong></li> </ul> <p>\u4e0b\u4f8b\u4f7f\u7528 <code>filter()</code> \u6839\u636e\u641c\u7d22\u6761\u4ef6\u6765\u8fc7\u6ee4\u6570\u7ec4\u5185\u5bb9</p> <pre><code class=language-js>var fruits = [&#39;apple&#39;, &#39;banana&#39;, &#39;grapes&#39;, &#39;mango&#39;, &#39;orange&#39;];\n\n/**\n * Array filters items based on search criteria (query)\n */\nfunction filterItems(query) {\n  return fruits.filter(function (el) {\n    return el.toLowerCase().indexOf(query.toLowerCase()) &gt; -1;\n  });\n}\n\nconsole.log(filterItems(&#39;ap&#39;)); // [&#39;apple&#39;, &#39;grapes&#39;]\nconsole.log(filterItems(&#39;an&#39;)); // [&#39;banana&#39;, &#39;mango&#39;, &#39;orange&#39;]</code></pre> <ul> <li><strong>ES2015 \u5b9e\u73b0</strong></li> </ul> <pre><code class=language-js>const fruits = [&#39;apple&#39;, &#39;banana&#39;, &#39;grapes&#39;, &#39;mango&#39;, &#39;orange&#39;];\n\n/**\n * \u6570\u7ec4\u6839\u636e\u641c\u7d22\u6761\u4ef6\u8fc7\u6ee4\u9879\u76ee\uff08\u67e5\u8be2\uff09\n */\nconst filterItems = query =&gt; {\n  return fruits.filter(el =&gt; el.toLowerCase().indexOf(query.toLowerCase()) &gt; -1);\n};\n\nconsole.log(filterItems(&#39;ap&#39;)); // [&#39;apple&#39;, &#39;grapes&#39;]\nconsole.log(filterItems(&#39;an&#39;)); // [&#39;banana&#39;, &#39;mango&#39;, &#39;orange&#39;]</code></pre> <h3 id=arrayprototypefind>Array.prototype.find()</h3> <blockquote> <p><code>find()</code> \u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u4e2d\u6ee1\u8db3\u63d0\u4f9b\u7684\u6d4b\u8bd5\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u503c\u3002\u5426\u5219\u8fd4\u56de <code>undefined</code></p> </blockquote> <h4 id=\u8bed\u6cd5-9>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.find(callback[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>1.<code>element</code>-\u5f53\u524d\u904d\u5386\u5230\u7684\u5143\u7d20;2.<code>index[\u53ef\u9009]</code>-\u5f53\u524d\u904d\u5386\u5230\u7684\u7d22\u5f15;3.<code>array[\u53ef\u9009]</code>-\u6570\u7ec4\u672c\u8eab</td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c <code>callback</code> \u65f6\uff0c\u7528\u4e8e <code>this</code> \u7684\u503c</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u6240\u63d0\u4f9b\u6d4b\u8bd5\u51fd\u6570\u7684\u5143\u7d20\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de undefined</p> <h4 id=\u793a\u4f8b-9>\u793a\u4f8b</h4> <ul> <li><strong>\u7528\u5bf9\u8c61\u7684\u5c5e\u6027\u67e5\u627e\u6570\u7ec4\u91cc\u7684\u5bf9\u8c61</strong></li> </ul> <pre><code class=language-js>var inventory = [\n  { name: &#39;apples&#39;, quantity: 2 },\n  { name: &#39;bananas&#39;, quantity: 0 },\n  { name: &#39;cherries&#39;, quantity: 5 }\n];\n\nfunction findCherries(fruit) {\n  return fruit.name === &#39;cherries&#39;;\n}\n\nconsole.log(inventory.find(findCherries)); // { name: &#39;cherries&#39;, quantity: 5 }</code></pre> <ul> <li><strong>\u5bfb\u627e\u6570\u7ec4\u4e2d\u7684\u8d28\u6570</strong></li> </ul> <pre><code class=language-js>function isPrime(element, index, array) {\n  var start = 2;\n  while (start &lt;= Math.sqrt(element)) {\n    if (element % start++ &lt; 1) {\n      return false;\n    }\n  }\n  return element &gt; 1;\n}\n\nconsole.log([4, 6, 8, 12].find(isPrime)); // undefined, not found\nconsole.log([4, 5, 8, 12].find(isPrime)); // 5</code></pre> <h3 id=arrayprototypefindindex>Array.prototype.findIndex()</h3> <blockquote> <p><code>findIndex()</code>\u65b9\u6cd5\u8fd4\u56de\u6570\u7ec4\u4e2d\u6ee1\u8db3\u63d0\u4f9b\u7684\u6d4b\u8bd5\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\u3002\u5426\u5219\u8fd4\u56de <code>-1</code></p> </blockquote> <h4 id=\u8bed\u6cd5-10>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.findIndex(callback[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>1.<code>element</code>-\u5f53\u524d\u5143\u7d20;2.<code>index[\u53ef\u9009]</code>-\u5f53\u524d\u5143\u7d20\u7684\u7d22\u5f15;3.<code>array[\u53ef\u9009]</code>-\u8c03\u7528 findIndex \u7684\u6570\u7ec4</td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c <code>callback</code> \u65f6\uff0c\u7528\u4e8e <code>this</code> \u7684\u503c <code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6570\u7ec4\u4e2d\u901a\u8fc7\u63d0\u4f9b\u6d4b\u8bd5\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u7d22\u5f15\u3002\u5426\u5219\uff0c\u8fd4\u56de-1</p> <h4 id=\u793a\u4f8b-10>\u793a\u4f8b</h4> <ul> <li><strong>\u67e5\u627e\u6570\u7ec4\u4e2d\u9996\u4e2a\u8d28\u6570\u5143\u7d20\u7684\u7d22\u5f15</strong></li> </ul> <p>\u4ee5\u4e0b\u793a\u4f8b\u67e5\u627e\u6570\u7ec4\u4e2d\u7d20\u6570\u7684\u5143\u7d20\u7684\u7d22\u5f15\uff08\u5982\u679c\u4e0d\u5b58\u5728\u7d20\u6570\uff0c\u5219\u8fd4\u56de-1\uff09</p> <pre><code class=language-js>function isPrime(element, index, array) {\n  var start = 2;\n  while (start &lt;= Math.sqrt(element)) {\n    if (element % start++ &lt; 1) {\n      return false;\n    }\n  }\n  return element &gt; 1;\n}\n\nconsole.log([4, 6, 8, 12].findIndex(isPrime)); // -1, not found\nconsole.log([4, 6, 7, 12].findIndex(isPrime)); // 2</code></pre> <h3 id=arrayprototypeflat>Array.prototype.flat()</h3> <blockquote> <p><code>flat()</code> \u65b9\u6cd5\u4f1a\u6309\u7167\u4e00\u4e2a\u53ef\u6307\u5b9a\u7684\u6df1\u5ea6\u9012\u5f52\u904d\u5386\u6570\u7ec4\uff0c\u5e76\u5c06\u6240\u6709\u5143\u7d20\u4e0e\u904d\u5386\u5230\u7684\u5b50\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u5408\u5e76\u4e3a\u4e00\u4e2a\u65b0\u6570\u7ec4\u8fd4\u56de</p> </blockquote> <h4 id=\u8bed\u6cd5-11>\u8bed\u6cd5</h4> <pre><code class=language-js>var newArray = arr.flat([depth]);</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>depth</td> <td>\u6307\u5b9a\u8981\u63d0\u53d6\u5d4c\u5957\u6570\u7ec4\u7684\u7ed3\u6784\u6df1\u5ea6\uff0c\u9ed8\u8ba4\u503c\u4e3a 1 <code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u5c06\u6570\u7ec4\u4e0e\u5b50\u6570\u7ec4\u4e2d\u6240\u6709\u5143\u7d20\u7684\u65b0\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-11>\u793a\u4f8b</h4> <ul> <li><strong>\u6241\u5e73\u5316\u5d4c\u5957\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var arr1 = [1, 2, [3, 4]];\narr1.flat();\n// [1, 2, 3, 4]\n\nvar arr2 = [1, 2, [3, 4, [5, 6]]];\narr2.flat();\n// [1, 2, 3, 4, [5, 6]]\n\nvar arr3 = [1, 2, [3, 4, [5, 6]]];\narr3.flat(2);\n// [1, 2, 3, 4, 5, 6]\n\n//\u4f7f\u7528 Infinity\uff0c\u53ef\u5c55\u5f00\u4efb\u610f\u6df1\u5ea6\u7684\u5d4c\u5957\u6570\u7ec4\nvar arr4 = [1, 2, [3, 4, [5, 6, [7, 8, [9, 10]]]]];\narr4.flat(Infinity);\n// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code></pre> <ul> <li><strong>\u6241\u5e73\u5316\u4e0e\u6570\u7ec4\u7a7a\u9879</strong></li> </ul> <pre><code class=language-js>var arr4 = [1, 2, , 4, 5];\narr4.flat();\n// [1, 2, 4, 5]</code></pre> <h3 id=arrayprototypeflatmap>Array.prototype.flatMap()</h3> <blockquote> <p><code>flatMap()</code> \u65b9\u6cd5\u9996\u5148\u4f7f\u7528\u6620\u5c04\u51fd\u6570\u6620\u5c04\u6bcf\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u538b\u7f29\u6210\u4e00\u4e2a\u65b0\u6570\u7ec4</p> </blockquote> <h4 id=\u8bed\u6cd5-12>\u8bed\u6cd5</h4> <pre><code class=language-js>var new_array = arr.flatMap(function callback(currentValue[, index[, array]]) {\n    // return element for new_array\n}[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>1.<code>currentValue</code>-\u5f53\u524d\u6b63\u5728\u6570\u7ec4\u4e2d\u5904\u7406\u7684\u5143\u7d20;2.<code>index[\u53ef\u9009]</code>-\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5f53\u524d\u5143\u7d20\u7684\u7d22\u5f15;3.<code>array[\u53ef\u9009]</code>-\u88ab\u8c03\u7528\u7684 <code>map</code> \u6570\u7ec4</td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c <code>callback</code> \u65f6\uff0c\u7528\u4e8e <code>this</code> \u7684\u503c <code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u56de\u8c03\u51fd\u6570\u7684\u7ed3\u679c\uff0c\u5e76\u4e14\u7ed3\u6784\u6df1\u5ea6 depth \u503c\u4e3a 1</p> <h4 id=\u793a\u4f8b-12>\u793a\u4f8b</h4> <ul> <li><strong>map() \u4e0e flatMap()</strong></li> </ul> <pre><code class=language-js>var arr1 = [1, 2, 3, 4];\n\narr1.map(x =&gt; [x * 2]);\n// [[2], [4], [6], [8]]\n\narr1.flatMap(x =&gt; [x * 2]);\n// [2, 4, 6, 8]\n\n// only one level is flattened\narr1.flatMap(x =&gt; [[x * 2]]);\n// [[2], [4], [6], [8]]</code></pre> <h3 id=arrayprototypeforeach>Array.prototype.forEach()</h3> <blockquote> <p><code>forEach()</code> \u65b9\u6cd5\u5bf9\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20\u6267\u884c\u4e00\u6b21\u7ed9\u5b9a\u7684\u51fd\u6570</p> </blockquote> <h4 id=\u8bed\u6cd5-13>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.forEach(callback(currentValue [, index [, array]])[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>1.<code>currentValue</code>-\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5f53\u524d\u5143\u7d20;2.<code>index[\u53ef\u9009]</code>-\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5f53\u524d\u5143\u7d20\u7684\u7d22\u5f15;3.<code>array[\u53ef\u9009]</code>-<code>forEach()</code> \u65b9\u6cd5\u6b63\u5728\u64cd\u4f5c\u7684\u6570\u7ec4</td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c <code>callback</code> \u65f6\uff0c\u7528\u4e8e <code>this</code> \u7684\u503c <code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> undefined</p> <h4 id=\u793a\u4f8b-13>\u793a\u4f8b</h4> <ul> <li><strong>\u4e0d\u5bf9\u672a\u521d\u59cb\u5316\u7684\u503c\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\uff08\u7a00\u758f\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>const arraySparse = [1, 3, , 7];\nlet numCallbackRuns = 0;\n\narraySparse.forEach(function (element) {\n  console.log(element);\n  numCallbackRuns++;\n});\n\nconsole.log(&#39;numCallbackRuns: &#39;, numCallbackRuns);\n\n// 1\n// 3\n// 7\n// numCallbackRuns: 3</code></pre> <ul> <li><strong>\u5c06 for \u5faa\u73af\u8f6c\u6362\u4e3a forEach</strong></li> </ul> <pre><code class=language-js>const items = [&#39;item1&#39;, &#39;item2&#39;, &#39;item3&#39;];\nconst copy = [];\n\n// before\nfor (let i = 0; i &lt; items.length; i++) {\n  copy.push(items[i]);\n}\n\n// after\nitems.forEach(function (item) {\n  copy.push(item);\n});</code></pre> <ul> <li><strong>\u6253\u5370\u51fa\u6570\u7ec4\u7684\u5185\u5bb9</strong></li> </ul> <pre><code class=language-js>function logArrayElements(element, index, array) {\n  console.log(&#39;a[&#39; + index + &#39;] = &#39; + element);\n}\n\n// \u6ce8\u610f\u7d22\u5f15 2 \u88ab\u8df3\u8fc7\u4e86\uff0c\u56e0\u4e3a\u5728\u6570\u7ec4\u7684\u8fd9\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u9879\n[2, 5, , 9].forEach(logArrayElements);\n// logs:\n// a[0] = 2\n// a[1] = 5\n// a[3] = 9</code></pre> <ul> <li><strong>\u4f7f\u7528 thisArg</strong></li> </ul> <pre><code class=language-js>function Counter() {\n  this.sum = 0;\n  this.count = 0;\n}\nCounter.prototype.add = function (array) {\n  array.forEach(function (entry) {\n    this.sum += entry;\n    ++this.count;\n  }, this);\n  // ^---- Note\n};\n\nconst obj = new Counter();\nobj.add([2, 5, 9]);\nobj.count;\n// 3 === (1 + 1 + 1)\nobj.sum;\n// 16 === (2 + 5 + 9)</code></pre> <ul> <li><strong>\u5bf9\u8c61\u590d\u5236\u5668\u51fd\u6570</strong></li> </ul> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u4f1a\u521b\u5efa\u4e00\u4e2a\u7ed9\u5b9a\u5bf9\u8c61\u7684\u526f\u672c\u3002 \u521b\u5efa\u5bf9\u8c61\u7684\u526f\u672c\u6709\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u4ee5\u4e0b\u662f\u53ea\u662f\u4e00\u79cd\u65b9\u6cd5\uff0c\u5e76\u89e3\u91ca\u4e86 <code>Array.prototype.forEach()</code> \u662f\u5982\u4f55\u4f7f\u7528 <code>ECMAScript 5 Object</code>.* \u5143\u5c5e\u6027\uff08meta property\uff09\u51fd\u6570\u5de5\u4f5c\u7684\u3002</p> <pre><code class=language-js>function copy(obj) {\n  const copy = Object.create(Object.getPrototypeOf(obj));\n  const propNames = Object.getOwnPropertyNames(obj);\n\n  propNames.forEach(function (name) {\n    const desc = Object.getOwnPropertyDescriptor(obj, name);\n    Object.defineProperty(copy, name, desc);\n  });\n\n  return copy;\n}\n\nconst obj1 = { a: 1, b: 2 };\nconst obj2 = copy(obj1); // \u73b0\u5728 obj2 \u770b\u8d77\u6765\u548c obj1 \u4e00\u6a21\u4e00\u6837\u4e86</code></pre> <ul> <li><strong>\u5982\u679c\u6570\u7ec4\u5728\u8fed\u4ee3\u65f6\u88ab\u4fee\u6539\u4e86\uff0c\u5219\u5176\u4ed6\u5143\u7d20\u4f1a\u88ab\u8df3\u8fc7</strong></li> </ul> <pre><code class=language-js>var words = [&#39;one&#39;, &#39;two&#39;, &#39;three&#39;, &#39;four&#39;];\nwords.forEach(function (word) {\n  console.log(word);\n  if (word === &#39;two&#39;) {\n    words.shift();\n  }\n});\n// one\n// two\n// four</code></pre> <ul> <li><strong>\u6241\u5e73\u5316\u6570\u7ec4</strong></li> </ul> <p>\u4e0b\u9762\u7684\u793a\u4f8b\u4ec5\u7528\u4e8e\u5b66\u4e60\u76ee\u7684\u3002\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u5185\u7f6e\u65b9\u6cd5\u6765\u6241\u5e73\u5316\u6570\u7ec4\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 <code>Array.prototype.flat()</code>\uff08\u9884\u8ba1\u5c06\u6210\u4e3a ES2019 \u7684\u4e00\u90e8\u5206\u3002</p> <pre><code class=language-js>/**\n * Flattens passed array in one dimensional array\n *\n * @params {array} arr\n * @returns {array}\n */\nfunction flatten(arr) {\n  const result = [];\n\n  arr.forEach(i =&gt; {\n    if (Array.isArray(i)) result.push(...flatten(i));\n    else result.push(i);\n  });\n\n  return result;\n}\n\n// Usage\nconst problem = [1, 2, 3, [4, 5, [6, 7], 8, 9]];\n\nflatten(problem); // [1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre> <ul> <li><strong>\u9488\u5bf9 promise \u6216 async \u51fd\u6570\u7684\u4f7f\u7528\u5907\u6ce8</strong></li> </ul> <p>\u5982\u679c\u4f7f\u7528 <code>promise</code> \u6216 <code>async</code> \u51fd\u6570\u4f5c\u4e3a <code>forEach()</code> \u7b49\u7c7b\u4f3c\u65b9\u6cd5\u7684 <code>callback</code> \u53c2\u6570\uff0c\u6700\u597d\u5bf9\u9020\u6210\u7684\u6267\u884c\u987a\u5e8f\u5f71\u54cd\u591a\u52a0\u8003\u8651\uff0c\u5426\u5219\u5bb9\u6613\u51fa\u73b0\u9519\u8bef</p> <pre><code class=language-js>let ratings = [5, 4, 5];\n\nlet sum = 0;\n\nlet sumFunction = async function (a, b) {\n  return a + b;\n};\n\nratings.forEach(async function (rating) {\n  sum = await sumFunction(sum, rating);\n});\n\nconsole.log(sum);\n// Expected output: 14\n// Actual output: 0</code></pre> <h3 id=arrayprototypeincludes>Array.prototype.includes()</h3> <blockquote> <p><code>includes()</code> \u65b9\u6cd5\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u6570\u7ec4\u662f\u5426\u5305\u542b\u4e00\u4e2a\u6307\u5b9a\u7684\u503c\uff0c\u6839\u636e\u60c5\u51b5\uff0c\u5982\u679c\u5305\u542b\u5219\u8fd4\u56de <code>true</code>\uff0c\u5426\u5219\u8fd4\u56de<code>false</code></p> </blockquote> <h4 id=\u8bed\u6cd5-14>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.includes(valueToFind[, fromIndex])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>valueToFind</td> <td>\u9700\u8981\u67e5\u627e\u7684\u5143\u7d20\u503c</td> </tr> <tr> <td>fromIndex</td> <td>\u4ece fromIndex \u7d22\u5f15\u5904\u5f00\u59cb\u67e5\u627e valueToFind\u3002\u5982\u679c\u4e3a\u8d1f\u503c\uff0c\u5219\u6309\u5347\u5e8f\u4ece array.length + fromIndex \u7684\u7d22\u5f15\u5f00\u59cb\u641c \uff08\u5373\u4f7f\u4ece\u672b\u5c3e\u5f00\u59cb\u5f80\u524d\u8df3 fromIndex \u7684\u7edd\u5bf9\u503c\u4e2a\u7d22\u5f15\uff0c\u7136\u540e\u5f80\u540e\u641c\u5bfb\uff09\u3002\u9ed8\u8ba4\u4e3a 0</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c Boolean \uff0c\u5982\u679c\u5728\u6570\u7ec4\u4e2d\u627e\u5230\u4e86\uff08\u5982\u679c\u4f20\u5165\u4e86 fromIndex \uff0c\u8868\u793a\u5728 fromIndex \u6307\u5b9a\u7684\u7d22\u5f15\u8303\u56f4\u4e2d\u627e\u5230\u4e86\uff09\u5219\u8fd4\u56de true \u3002</p> <h4 id=\u793a\u4f8b-14>\u793a\u4f8b</h4> <pre><code class=language-js>[1, 2, 3].includes(2); // true\n[1, 2, 3].includes(4); // false\n[1, 2, 3].includes(3, 3); // false\n[1, 2, 3].includes(3, -1); // true\n[1, 2, NaN].includes(NaN); // true</code></pre> <ul> <li><strong>fromIndex \u5927\u4e8e\u7b49\u4e8e\u6570\u7ec4\u957f\u5ea6</strong></li> </ul> <pre><code class=language-js>var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\n\narr.includes(&#39;c&#39;, 3); // false\narr.includes(&#39;c&#39;, 100); // false</code></pre> <ul> <li><strong>\u8ba1\u7b97\u51fa\u7684\u7d22\u5f15\u5c0f\u4e8e 0</strong></li> </ul> <pre><code class=language-js>// array length is 3\n// fromIndex is -100\n// computed index is 3 + (-100) = -97\n\nvar arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;];\n\narr.includes(&#39;a&#39;, -100); // true\narr.includes(&#39;b&#39;, -100); // true\narr.includes(&#39;c&#39;, -100); // true\narr.includes(&#39;a&#39;, -2); // false</code></pre> <ul> <li><strong>\u4f5c\u4e3a\u901a\u7528\u65b9\u6cd5\u7684 includes()</strong></li> </ul> <pre><code class=language-js>(function () {\n  console.log([].includes.call(arguments, &#39;a&#39;)); // true\n  console.log([].includes.call(arguments, &#39;d&#39;)); // false\n})(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);</code></pre> <h3 id=arrayprototypeindexof>Array.prototype.indexOf()</h3> <blockquote> <p><code>indexOf()</code>\u65b9\u6cd5\u8fd4\u56de\u5728\u6570\u7ec4\u4e2d\u53ef\u4ee5\u627e\u5230\u4e00\u4e2a\u7ed9\u5b9a\u5143\u7d20\u7684\u7b2c\u4e00\u4e2a\u7d22\u5f15\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de <code>-1</code></p> </blockquote> <h4 id=\u8bed\u6cd5-15>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.indexOf(searchElement[, fromIndex])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>searchElement</td> <td>\u8981\u67e5\u627e\u7684\u5143\u7d20</td> </tr> <tr> <td>fromIndex</td> <td>\u5f00\u59cb\u67e5\u627e\u7684\u4f4d\u7f6e</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u9996\u4e2a\u88ab\u627e\u5230\u7684\u5143\u7d20\u5728\u6570\u7ec4\u4e2d\u7684\u7d22\u5f15\u4f4d\u7f6e; \u82e5\u6ca1\u6709\u627e\u5230\u5219\u8fd4\u56de -1</p> <h4 id=\u793a\u4f8b-15>\u793a\u4f8b</h4> <ul> <li><strong>\u4f7f\u7528 indexOf</strong></li> </ul> <pre><code class=language-js>var array = [2, 5, 9];\narray.indexOf(2); // 0\narray.indexOf(7); // -1\narray.indexOf(9, 2); // 2\narray.indexOf(2, -1); // -1\narray.indexOf(2, -3); // 0</code></pre> <ul> <li><strong>\u627e\u51fa\u6307\u5b9a\u5143\u7d20\u51fa\u73b0\u7684\u6240\u6709\u4f4d\u7f6e</strong></li> </ul> <pre><code class=language-js>var indices = [];\nvar array = [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;a&#39;, &#39;d&#39;];\nvar element = &#39;a&#39;;\nvar idx = array.indexOf(element);\nwhile (idx != -1) {\n  indices.push(idx);\n  idx = array.indexOf(element, idx + 1);\n}\nconsole.log(indices);\n// [0, 2, 4]</code></pre> <ul> <li><strong>\u5224\u65ad\u4e00\u4e2a\u5143\u7d20\u662f\u5426\u5728\u6570\u7ec4\u91cc\uff0c\u4e0d\u5728\u5219\u66f4\u65b0\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>function updateVegetablesCollection(veggies, veggie) {\n  if (veggies.indexOf(veggie) === -1) {\n    veggies.push(veggie);\n    console.log(&#39;New veggies collection is : &#39; + veggies);\n  } else if (veggies.indexOf(veggie) &gt; -1) {\n    console.log(veggie + &#39; already exists in the veggies collection.&#39;);\n  }\n}\n\nvar veggies = [&#39;potato&#39;, &#39;tomato&#39;, &#39;chillies&#39;, &#39;green-pepper&#39;];\n\n// New veggies collection is : potato,tomato,chillies,green-papper,spinach\nupdateVegetablesCollection(veggies, &#39;spinach&#39;);\n// spinach already exists in the veggies collection.\nupdateVegetablesCollection(veggies, &#39;spinach&#39;);</code></pre> <h3 id=arrayprototypejoin>Array.prototype.join()</h3> <blockquote> <p><code>join()</code> \u65b9\u6cd5\u5c06\u4e00\u4e2a\u6570\u7ec4\uff08\u6216\u4e00\u4e2a\u7c7b\u6570\u7ec4\u5bf9\u8c61\uff09\u7684\u6240\u6709\u5143\u7d20\u8fde\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\u8fd9\u4e2a\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6570\u7ec4\u53ea\u6709\u4e00\u4e2a\u9879\u76ee\uff0c\u90a3\u4e48\u5c06\u8fd4\u56de\u8be5\u9879\u76ee\u800c\u4e0d\u4f7f\u7528\u5206\u9694\u7b26</p> </blockquote> <h4 id=\u8bed\u6cd5-16>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.join([separator]);</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>separator</td> <td>\u6307\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u5206\u9694\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8fd4\u56de\u4e00\u4e2a\u6240\u6709\u6570\u7ec4\u5143\u7d20\u8fde\u63a5\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c arr.length \u4e3a 0\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32</p> <h4 id=\u793a\u4f8b-16>\u793a\u4f8b</h4> <ul> <li><strong>\u4f7f\u7528\u56db\u79cd\u4e0d\u540c\u7684\u5206\u9694\u7b26\u8fde\u63a5\u6570\u7ec4\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>var a = [&#39;Wind&#39;, &#39;Rain&#39;, &#39;Fire&#39;];\nvar myVar1 = a.join(); // myVar1\u7684\u503c\u53d8\u4e3a&quot;Wind,Rain,Fire&quot;\nvar myVar2 = a.join(&#39;, &#39;); // myVar2\u7684\u503c\u53d8\u4e3a&quot;Wind, Rain, Fire&quot;\nvar myVar3 = a.join(&#39; + &#39;); // myVar3\u7684\u503c\u53d8\u4e3a&quot;Wind + Rain + Fire&quot;\nvar myVar4 = a.join(&#39;&#39;); // myVar4\u7684\u503c\u53d8\u4e3a&quot;WindRainFire&quot;</code></pre> <ul> <li><strong>\u8fde\u63a5\u7c7b\u6570\u7ec4\u5bf9\u8c61</strong></li> </ul> <pre><code class=language-js>function f(a, b, c) {\n  var s = Array.prototype.join.call(arguments);\n  console.log(s); // &#39;1,a,true&#39;\n}\nf(1, &#39;a&#39;, true);</code></pre> <h3 id=arrayprototypekeys>Array.prototype.keys()</h3> <blockquote> <p><code>keys()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u7d22\u5f15\u952e\u7684 <code>Array Iterator</code> \u5bf9\u8c61</p> </blockquote> <h4 id=\u8bed\u6cd5-17>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.keys();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4e00\u4e2a\u65b0\u7684 Array \u8fed\u4ee3\u5668\u5bf9\u8c61</p> <h4 id=\u793a\u4f8b-17>\u793a\u4f8b</h4> <ul> <li><strong>\u7d22\u5f15\u8fed\u4ee3\u5668\u4f1a\u5305\u542b\u90a3\u4e9b\u6ca1\u6709\u5bf9\u5e94\u5143\u7d20\u7684\u7d22\u5f15</strong></li> </ul> <pre><code class=language-js>var arr = [&#39;a&#39;, , &#39;c&#39;];\nvar sparseKeys = Object.keys(arr);\nvar denseKeys = [...arr.keys()];\nconsole.log(sparseKeys); // [&#39;0&#39;, &#39;2&#39;]\nconsole.log(denseKeys); // [0, 1, 2]</code></pre> <h3 id=arrayprototypelastindexof>Array.prototype.lastIndexOf()</h3> <blockquote> <p><code>lastIndexOf()</code> \u65b9\u6cd5\u8fd4\u56de\u6307\u5b9a\u5143\u7d20\uff08\u4e5f\u5373\u6709\u6548\u7684 <code>JavaScript</code> \u503c\u6216\u53d8\u91cf\uff09\u5728\u6570\u7ec4\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u7684\u7d22\u5f15\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fd4\u56de <code>-1</code>\u3002\u4ece\u6570\u7ec4\u7684\u540e\u9762\u5411\u524d\u67e5\u627e\uff0c\u4ece <code>fromIndex</code> \u5904\u5f00\u59cb</p> </blockquote> <h4 id=\u8bed\u6cd5-18>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.lastIndexOf(searchElement[, fromIndex])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>searchElement</td> <td>\u88ab\u67e5\u627e\u7684\u5143\u7d20</td> </tr> <tr> <td>fromIndex</td> <td>\u4ece\u6b64\u4f4d\u7f6e\u5f00\u59cb\u9006\u5411\u67e5\u627e<code>[\u53ef\u9009]</code> \u3002\u9ed8\u8ba4\u4e3a\u6570\u7ec4\u7684\u957f\u5ea6\u51cf 1(arr.length - 1)\uff0c\u5373\u6574\u4e2a\u6570\u7ec4\u90fd\u88ab\u67e5\u627e\u3002\u5982\u679c\u8be5\u503c\u5927\u4e8e\u6216\u7b49\u4e8e\u6570\u7ec4\u7684\u957f\u5ea6\uff0c\u5219\u6574\u4e2a\u6570\u7ec4\u4f1a\u88ab\u67e5\u627e\u3002\u5982\u679c\u4e3a\u8d1f\u503c\uff0c\u5c06\u5176\u89c6\u4e3a\u4ece\u6570\u7ec4\u672b\u5c3e\u5411\u524d\u7684\u504f\u79fb\u3002\u5373\u4f7f\u8be5\u503c\u4e3a\u8d1f\uff0c\u6570\u7ec4\u4ecd\u7136\u4f1a\u88ab\u4ece\u540e\u5411\u524d\u67e5\u627e\u3002\u5982\u679c\u8be5\u503c\u4e3a\u8d1f\u65f6\uff0c\u5176\u7edd\u5bf9\u503c\u5927\u4e8e\u6570\u7ec4\u957f\u5ea6\uff0c\u5219\u65b9\u6cd5\u8fd4\u56de -1\uff0c\u5373\u6570\u7ec4\u4e0d\u4f1a\u88ab\u67e5\u627e</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6570\u7ec4\u4e2d\u8be5\u5143\u7d20\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684\u7d22\u5f15\uff0c\u5982\u672a\u627e\u5230\u8fd4\u56de-1</p> <h4 id=\u793a\u4f8b-18>\u793a\u4f8b</h4> <pre><code class=language-js>var array = [2, 5, 9, 2];\nvar index = array.lastIndexOf(2);\n// index is 3\nindex = array.lastIndexOf(7);\n// index is -1\nindex = array.lastIndexOf(2, 3);\n// index is 3\nindex = array.lastIndexOf(2, 2);\n// index is 0\nindex = array.lastIndexOf(2, -2);\n// index is 0\nindex = array.lastIndexOf(2, -1);\n// index is 3</code></pre> <ul> <li><strong>\u67e5\u627e\u6240\u6709\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>var indices = [];\nvar array = [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;a&#39;, &#39;d&#39;];\nvar element = &#39;a&#39;;\nvar idx = array.lastIndexOf(element);\n\nwhile (idx != -1) {\n  indices.push(idx);\n  idx = idx &gt; 0 ? array.lastIndexOf(element, idx - 1) : -1;\n}\n\nconsole.log(indices);\n// [4, 2, 0];</code></pre> <h3 id=arrayprototypemap>Array.prototype.map()</h3> <blockquote> <p><code>map()</code> \u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u65b0\u6570\u7ec4\uff0c\u5176\u7ed3\u679c\u662f\u8be5\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u8c03\u7528\u4e00\u6b21\u63d0\u4f9b\u7684\u51fd\u6570\u540e\u7684\u8fd4\u56de\u503c</p> </blockquote> <h4 id=\u8bed\u6cd5-19>\u8bed\u6cd5</h4> <pre><code class=language-js>var new_array = arr.map(function callback(currentValue[, index[, array]]) {\n // Return element for new_array\n}[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>\u751f\u6210\u65b0\u6570\u7ec4\u5143\u7d20\u7684\u51fd\u6570\uff0c<code>currentValue\uff1a</code>\u6b63\u5728\u5904\u7406\u7684\u5f53\u524d\u5143\u7d20\uff1b<code>index\uff1a</code>\u6b63\u5728\u5904\u7406\u7684\u5f53\u524d\u5143\u7d20\u7684\u7d22\u5f15\uff1b<code>array\uff1a</code>map \u65b9\u6cd5\u8c03\u7528\u7684\u6570\u7ec4</td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c callback \u51fd\u6570\u65f6\u503c\u88ab\u7528\u4f5c <code>[\u53ef\u9009]</code>this</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4e00\u4e2a\u7531\u539f\u6570\u7ec4\u6bcf\u4e2a\u5143\u7d20\u6267\u884c\u56de\u8c03\u51fd\u6570\u7684\u7ed3\u679c\u7ec4\u6210\u7684\u65b0\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-19>\u793a\u4f8b</h4> <ul> <li><strong>\u6c42\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u5e73\u65b9\u6839</strong></li> </ul> <pre><code class=language-js>var numbers = [1, 4, 9];\nvar roots = numbers.map(Math.sqrt);\n// roots\u7684\u503c\u4e3a[1, 2, 3], numbers\u7684\u503c\u4ecd\u4e3a[1, 4, 9]</code></pre> <ul> <li><strong>\u4f7f\u7528 map \u91cd\u65b0\u683c\u5f0f\u5316\u6570\u7ec4\u4e2d\u7684\u5bf9\u8c61</strong></li> </ul> <p>\u4ee5\u4e0b\u4ee3\u7801\u4f7f\u7528\u4e00\u4e2a\u5305\u542b\u5bf9\u8c61\u7684\u6570\u7ec4\u6765\u91cd\u65b0\u521b\u5efa\u4e00\u4e2a\u683c\u5f0f\u5316\u540e\u7684\u6570\u7ec4\u3002</p> <pre><code class=language-js>var kvArray = [\n  { key: 1, value: 10 },\n  { key: 2, value: 20 },\n  { key: 3, value: 30 }\n];\n\nvar reformattedArray = kvArray.map(function (obj) {\n  var rObj = {};\n  rObj[obj.key] = obj.value;\n  return rObj;\n});\n\n// reformattedArray \u6570\u7ec4\u4e3a\uff1a [{1: 10}, {2: 20}, {3: 30}],\n\n// kvArray \u6570\u7ec4\u672a\u88ab\u4fee\u6539:\n// [{key: 1, value: 10},\n//  {key: 2, value: 20},\n//  {key: 3, value: 30}]</code></pre> <ul> <li><strong>\u4f7f\u7528\u4e00\u4e2a\u5305\u542b\u4e00\u4e2a\u53c2\u6570\u7684\u51fd\u6570\u6765 mapping(\u6784\u5efa)\u4e00\u4e2a\u6570\u5b57\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var numbers = [1, 4, 9];\nvar doubles = numbers.map(function (num) {\n  return num * 2;\n});\n\n// doubles\u6570\u7ec4\u7684\u503c\u4e3a\uff1a [2, 8, 18]\n// numbers\u6570\u7ec4\u672a\u88ab\u4fee\u6539\uff1a [1, 4, 9]</code></pre> <ul> <li><strong>\u4e00\u822c\u7684 map \u65b9\u6cd5</strong></li> </ul> <pre><code class=language-js>var map = Array.prototype.map;\nvar a = map.call(&#39;Hello World&#39;, function (x) {\n  return x.charCodeAt(0);\n});\n// a\u7684\u503c\u4e3a[72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]</code></pre> <ul> <li><strong>querySelectorAll \u5e94\u7528</strong></li> </ul> <pre><code class=language-js>var elems = document.querySelectorAll(&#39;select option:checked&#39;);\nvar values = Array.prototype.map.call(elems, function (obj) {\n  return obj.value;\n});</code></pre> <ul> <li><strong>Mapping \u542b undefined \u7684\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var numbers = [1, 2, 3, 4];\nvar filteredNumbers = numbers.map(function (num, index) {\n  if (index &lt; 3) {\n    return num;\n  }\n});\n//index goes from 0,so the filterNumbers are 1,2,3 and undefined.\n// filteredNumbers is [1, 2, 3, undefined]\n// numbers is still [1, 2, 3, 4]</code></pre> <h3 id=arrayprototypepop>Array.prototype.pop()</h3> <blockquote> <p><code>pop()</code>\u65b9\u6cd5\u4ece\u6570\u7ec4\u4e2d\u5220\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u503c\u3002\u6b64\u65b9\u6cd5\u66f4\u6539\u6570\u7ec4\u7684\u957f\u5ea6</p> </blockquote> <h4 id=\u8bed\u6cd5-20>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.pop();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4ece\u6570\u7ec4\u4e2d\u5220\u9664\u7684\u5143\u7d20(\u5f53\u6570\u7ec4\u4e3a\u7a7a\u65f6\u8fd4\u56de undefined)</p> <h4 id=\u793a\u4f8b-20>\u793a\u4f8b</h4> <p>\u5220\u9664\u6389\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20</p> <pre><code class=language-js>let myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;mandarin&#39;, &#39;surgeon&#39;];\nlet popped = myFish.pop();\n\nconsole.log(myFish);\n// [&quot;angel&quot;, &quot;clown&quot;, &quot;mandarin&quot;]\nconsole.log(popped);\n// surgeon</code></pre> <h3 id=arrayprototypepush>Array.prototype.push()</h3> <blockquote> <p><code>push()</code> \u65b9\u6cd5\u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u6dfb\u52a0\u5230\u6570\u7ec4\u7684\u672b\u5c3e\uff0c\u5e76\u8fd4\u56de\u8be5\u6570\u7ec4\u7684\u65b0\u957f\u5ea6</p> </blockquote> <h4 id=\u8bed\u6cd5-21>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.push(element1, ..., elementN)</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>elementN</td> <td>\u88ab\u6dfb\u52a0\u5230\u6570\u7ec4\u672b\u5c3e\u7684\u5143\u7d20</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u5f53\u8c03\u7528\u8be5\u65b9\u6cd5\u65f6\uff0c\u65b0\u7684 length \u5c5e\u6027\u503c\u5c06\u88ab\u8fd4\u56de</p> <h4 id=\u793a\u4f8b-21>\u793a\u4f8b</h4> <ul> <li><strong>\u6dfb\u52a0\u5143\u7d20\u5230\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var sports = [&#39;soccer&#39;, &#39;baseball&#39;];\nvar total = sports.push(&#39;football&#39;, &#39;swimming&#39;);\n\nconsole.log(sports);\n// [&quot;soccer&quot;, &quot;baseball&quot;, &quot;football&quot;, &quot;swimming&quot;]\n\nconsole.log(total);\n// 4</code></pre> <ul> <li><strong>\u5408\u5e76\u4e24\u4e2a\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var vegetables = [&#39;parsnip&#39;, &#39;potato&#39;];\nvar moreVegs = [&#39;celery&#39;, &#39;beetroot&#39;];\n\n// \u5c06\u7b2c\u4e8c\u4e2a\u6570\u7ec4\u878d\u5408\u8fdb\u7b2c\u4e00\u4e2a\u6570\u7ec4\n// \u76f8\u5f53\u4e8e vegetables.push(&#39;celery&#39;, &#39;beetroot&#39;);\nArray.prototype.push.apply(vegetables, moreVegs);\n\nconsole.log(vegetables);\n// [&#39;parsnip&#39;, &#39;potato&#39;, &#39;celery&#39;, &#39;beetroot&#39;]</code></pre> <ul> <li><strong>\u50cf\u6570\u7ec4\u4e00\u6837\u4f7f\u7528\u5bf9\u8c61</strong></li> </ul> <pre><code class=language-js>var obj = {\n  length: 0,\n  addElem: function addElem(elem) {\n    // obj.length is automatically incremented\n    // every time an element is added.\n    [].push.call(this, elem);\n  }\n};\n\n// Let&#39;s add some empty objects just to illustrate.\nobj.addElem({});\nobj.addElem({});\nconsole.log(obj.length);\n// \u2192 2</code></pre> <h3 id=arrayprototypereduce>Array.prototype.reduce()</h3> <blockquote> <p><code>reduce()</code> \u65b9\u6cd5\u5bf9\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u6267\u884c\u4e00\u4e2a\u7531\u60a8\u63d0\u4f9b\u7684 <code>reducer</code> \u51fd\u6570(\u5347\u5e8f\u6267\u884c)\uff0c\u5c06\u5176\u7ed3\u679c\u6c47\u603b\u4e3a\u5355\u4e2a\u8fd4\u56de\u503c</p> </blockquote> <h4 id=\u8bed\u6cd5-22>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>\u6267\u884c\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u503c;<code>accumulator\uff1a</code>\u7d2f\u8ba1\u5668\u7d2f\u8ba1\u56de\u8c03\u7684\u8fd4\u56de\u503c;<code>currentValue\uff1a</code>\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5143\u7d20\uff1b<code>index\uff1a</code>\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5f53\u524d\u5143\u7d20\u7684\u7d22\u5f15<code>[\u53ef\u9009]</code>\uff1b<code>array\uff1a</code>\u8c03\u7528 reduce()\u7684\u6570\u7ec4</td> </tr> <tr> <td>initialValue</td> <td>\u4f5c\u4e3a\u7b2c\u4e00\u6b21\u8c03\u7528 callback \u51fd\u6570\u65f6\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u503c<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u51fd\u6570\u7d2f\u8ba1\u5904\u7406\u7684\u7ed3\u679c</p> <h4 id=\u793a\u4f8b-22>\u793a\u4f8b</h4> <ul> <li><strong>\u6570\u7ec4\u91cc\u6240\u6709\u503c\u7684\u548c</strong></li> </ul> <pre><code class=language-js>var sum = [0, 1, 2, 3].reduce(function (accumulator, currentValue) {\n  return accumulator + currentValue;\n}, 0);\n// or\nvar total = [0, 1, 2, 3].reduce((acc, cur) =&gt; acc + cur, 0);\n\n// \u548c\u4e3a 6</code></pre> <ul> <li><strong>\u7d2f\u52a0\u5bf9\u8c61\u6570\u7ec4\u91cc\u7684\u503c</strong></li> </ul> <pre><code class=language-js>var initialValue = 0;\nvar sum = [{ x: 1 }, { x: 2 }, { x: 3 }].reduce(function (accumulator, currentValue) {\n  return accumulator + currentValue.x;\n}, initialValue);\n\nconsole.log(sum); // logs 6</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u5199\u6210\u7bad\u5934\u51fd\u6570\u7684\u5f62\u5f0f\uff1a</p> <pre><code class=language-js>var initialValue = 0;\nvar sum = [{ x: 1 }, { x: 2 }, { x: 3 }].reduce((accumulator, currentValue) =&gt; accumulator + currentValue.x, initialValue);\n\nconsole.log(sum); // logs 6</code></pre> <ul> <li><strong>\u5c06\u4e8c\u7ef4\u6570\u7ec4\u8f6c\u5316\u4e3a\u4e00\u7ef4</strong></li> </ul> <pre><code class=language-js>var flattened = [\n  [0, 1],\n  [2, 3],\n  [4, 5]\n].reduce(function (a, b) {\n  return a.concat(b);\n}, []);\n// flattened is [0, 1, 2, 3, 4, 5]</code></pre> <p>\u4f60\u4e5f\u53ef\u4ee5\u5199\u6210\u7bad\u5934\u51fd\u6570\u7684\u5f62\u5f0f\uff1a</p> <pre><code class=language-js>var flattened = [\n  [0, 1],\n  [2, 3],\n  [4, 5]\n].reduce((acc, cur) =&gt; acc.concat(cur), []);</code></pre> <ul> <li><strong>\u8ba1\u7b97\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u51fa\u73b0\u7684\u6b21\u6570</strong></li> </ul> <pre><code class=language-js>var names = [&#39;Alice&#39;, &#39;Bob&#39;, &#39;Tiff&#39;, &#39;Bruce&#39;, &#39;Alice&#39;];\n\nvar countedNames = names.reduce(function (allNames, name) {\n  if (name in allNames) {\n    allNames[name]++;\n  } else {\n    allNames[name] = 1;\n  }\n  return allNames;\n}, {});\n// countedNames is:\n// { &#39;Alice&#39;: 2, &#39;Bob&#39;: 1, &#39;Tiff&#39;: 1, &#39;Bruce&#39;: 1 }</code></pre> <ul> <li><strong>\u6309\u5c5e\u6027\u5bf9 object \u5206\u7c7b</strong></li> </ul> <pre><code class=language-js>var people = [\n  { name: &#39;Alice&#39;, age: 21 },\n  { name: &#39;Max&#39;, age: 20 },\n  { name: &#39;Jane&#39;, age: 20 }\n];\n\nfunction groupBy(objectArray, property) {\n  return objectArray.reduce(function (acc, obj) {\n    var key = obj[property];\n    if (!acc[key]) {\n      acc[key] = [];\n    }\n    acc[key].push(obj);\n    return acc;\n  }, {});\n}\n\nvar groupedPeople = groupBy(people, &#39;age&#39;);\n// groupedPeople is:\n// {\n//   20: [\n//     { name: &#39;Max&#39;, age: 20 },\n//     { name: &#39;Jane&#39;, age: 20 }\n//   ],\n//   21: [{ name: &#39;Alice&#39;, age: 21 }]\n// }</code></pre> <ul> <li><strong>\u4f7f\u7528\u6269\u5c55\u8fd0\u7b97\u7b26\u548c initialValue \u7ed1\u5b9a\u5305\u542b\u5728\u5bf9\u8c61\u6570\u7ec4\u4e2d\u7684\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>// friends - \u5bf9\u8c61\u6570\u7ec4\n// where object field &quot;books&quot; - list of favorite books\nvar friends = [\n  {\n    name: &#39;Anna&#39;,\n    books: [&#39;Bible&#39;, &#39;Harry Potter&#39;],\n    age: 21\n  },\n  {\n    name: &#39;Bob&#39;,\n    books: [&#39;War and peace&#39;, &#39;Romeo and Juliet&#39;],\n    age: 26\n  },\n  {\n    name: &#39;Alice&#39;,\n    books: [&#39;The Lord of the Rings&#39;, &#39;The Shining&#39;],\n    age: 18\n  }\n];\n\n// allbooks - list which will contain all friends&#39; books +\n// additional list contained in initialValue\nvar allbooks = friends.reduce(\n  function (prev, curr) {\n    return [...prev, ...curr.books];\n  },\n  [&#39;Alphabet&#39;]\n);\n\n// allbooks = [\n//   &#39;Alphabet&#39;, &#39;Bible&#39;, &#39;Harry Potter&#39;, &#39;War and peace&#39;,\n//   &#39;Romeo and Juliet&#39;, &#39;The Lord of the Rings&#39;,\n//   &#39;The Shining&#39;\n// ]</code></pre> <ul> <li><strong>\u6570\u7ec4\u53bb\u91cd</strong></li> </ul> <pre><code class=language-js>let arr = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];\nlet result = arr.sort().reduce((init, current) =&gt; {\n  if (init.length === 0 || init[init.length - 1] !== current) {\n    init.push(current);\n  }\n  return init;\n}, []);\nconsole.log(result); //[1,2,3,4,5]</code></pre> <ul> <li><strong>\u6309\u987a\u5e8f\u8fd0\u884c Promise</strong></li> </ul> <pre><code class=language-js>/**\n * Runs promises from array of functions that can return promises\n * in chained manner\n *\n * @param {array} arr - promise arr\n * @return {Object} promise object\n */\nfunction runPromiseInSequence(arr, input) {\n  return arr.reduce((promiseChain, currentFunction) =&gt; promiseChain.then(currentFunction), Promise.resolve(input));\n}\n\n// promise function 1\nfunction p1(a) {\n  return new Promise((resolve, reject) =&gt; {\n    resolve(a * 5);\n  });\n}\n\n// promise function 2\nfunction p2(a) {\n  return new Promise((resolve, reject) =&gt; {\n    resolve(a * 2);\n  });\n}\n\n// function 3  - will be wrapped in a resolved promise by .then()\nfunction f3(a) {\n  return a * 3;\n}\n\n// promise function 4\nfunction p4(a) {\n  return new Promise((resolve, reject) =&gt; {\n    resolve(a * 4);\n  });\n}\n\nconst promiseArr = [p1, p2, f3, p4];\nrunPromiseInSequence(promiseArr, 10).then(console.log); // 1200</code></pre> <ul> <li><strong>\u529f\u80fd\u578b\u51fd\u6570\u7ba1\u9053</strong></li> </ul> <pre><code class=language-js>// \u7528\u4e8e\u5408\u6210\u7684\u6784\u5efa\u5757\nconst double = x =&gt; x + x;\nconst triple = x =&gt; 3 * x;\nconst quadruple = x =&gt; 4 * x;\n\n// \u901a\u8fc7\u529f\u80fd\u7ec4\u5408\u5b9e\u73b0\u7ba1\u9053\u529f\u80fd\nconst pipe = (...functions) =&gt; input =&gt; functions.reduce((acc, fn) =&gt; fn(acc), input);\n\n// \u7528\u4e8e\u7279\u5b9a\u503c\u76f8\u4e58\u7684\u7ec4\u5408\u51fd\u6570\nconst multiply6 = pipe(double, triple);\nconst multiply9 = pipe(triple, triple);\nconst multiply16 = pipe(quadruple, quadruple);\nconst multiply24 = pipe(double, triple, quadruple);\n\n// \u7528\u6cd5\nmultiply6(6); // 36\nmultiply9(9); // 81\nmultiply16(16); // 256\nmultiply24(10); // 240</code></pre> <ul> <li><strong>\u4f7f\u7528 reduce \u5b9e\u73b0 map</strong></li> </ul> <pre><code class=language-js>\u4f7f\u7528 reduce\u5b9e\u73b0map\nif (!Array.prototype.mapUsingReduce) {\n  Array.prototype.mapUsingReduce = function(callback, thisArg) {\n    return this.reduce(function(mappedArray, currentValue, index, array) {\n      mappedArray[index] = callback.call(thisArg, currentValue, index, array);\n      return mappedArray;\n    }, []);\n  };\n}\n\n[1, 2, , 3].mapUsingReduce(\n  (currentValue, index, array) =&gt; currentValue + index + array.length\n); // [5, 7, , 10]</code></pre> <h3 id=arrayprototypereduceright>Array.prototype.reduceRight()</h3> <blockquote> <p><code>reduceRight()</code> \u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u7d2f\u52a0\u5668\uff08accumulator\uff09\u548c\u6570\u7ec4\u7684\u6bcf\u4e2a\u503c\uff08\u4ece\u53f3\u5230\u5de6\uff09\u5c06\u5176\u51cf\u5c11\u4e3a\u5355\u4e2a\u503c</p> </blockquote> <h4 id=\u8bed\u6cd5-23>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.reduceRight(callback(accumulator, currentValue[, index[, array]])[, initialValue])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u7528\u4e8e\u64cd\u4f5c\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20<code>[\u53ef\u9009]</code>\uff1b<code>accumulator\uff1a</code>\u4e0a\u4e00\u6b21\u8c03\u7528\u56de\u8c03\u51fd\u6570\u65f6\uff0c\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u7684\u503c\uff1b<code>currentValue\uff1a</code>\u5f53\u524d\u88ab\u5904\u7406\u7684\u5143\u7d20\uff1b<code>index\uff1a</code>\u6570\u7ec4\u4e2d\u5f53\u524d\u88ab\u5904\u7406\u7684\u5143\u7d20\u7684\u7d22\u5f15\uff1b<code>array\uff1a</code>\u8c03\u7528 reduceRight() \u7684\u6570\u7ec4</td> </tr> <tr> <td>initialValue</td> <td>\u9996\u6b21\u8c03\u7528 callback \u51fd\u6570\u65f6\uff0c\u7d2f\u52a0\u5668 accumulator \u7684\u503c<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6267\u884c\u4e4b\u540e\u7684\u8fd4\u56de\u503c</p> <h4 id=\u793a\u4f8b-23>\u793a\u4f8b</h4> <ul> <li><strong>\u6c42\u4e00\u4e2a\u6570\u7ec4\u4e2d\u6240\u6709\u503c\u7684\u548c</strong></li> </ul> <pre><code class=language-js>var sum = [0, 1, 2, 3].reduceRight(function (a, b) {\n  return a + b;\n});\n// sum is 6</code></pre> <ul> <li><strong>\u6241\u5e73\u5316\uff08flatten\uff09\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var flattened = [\n  [0, 1],\n  [2, 3],\n  [4, 5]\n].reduceRight(function (a, b) {\n  return a.concat(b);\n}, []);\n// flattened is [4, 5, 2, 3, 0, 1]</code></pre> <ul> <li><strong>\u8fd0\u884c\u4e00\u4e2a\u5e26\u6709\u56de\u8c03\u6bcf\u4e2a\u51fd\u6570\u5c06\u5176\u7ed3\u679c\u4f20\u7ed9\u4e0b\u4e00\u4e2a\u7684\u5f02\u6b65\u51fd\u6570\u5217\u8868</strong></li> </ul> <pre><code class=language-js>const waterfall = (...functions) =&gt; (callback, ...args) =&gt; functions.reduceRight((composition, fn) =&gt; (...results) =&gt; fn(composition, ...results), callback)(...args);\n\nconst randInt = max =&gt; Math.floor(Math.random() * max);\n\nconst add5 = (callback, x) =&gt; {\n  setTimeout(callback, randInt(1000), x + 5);\n};\nconst mult3 = (callback, x) =&gt; {\n  setTimeout(callback, randInt(1000), x * 3);\n};\nconst sub2 = (callback, x) =&gt; {\n  setTimeout(callback, randInt(1000), x - 2);\n};\nconst split = (callback, x) =&gt; {\n  setTimeout(callback, randInt(1000), x, x);\n};\nconst add = (callback, x, y) =&gt; {\n  setTimeout(callback, randInt(1000), x + y);\n};\nconst div4 = (callback, x) =&gt; {\n  setTimeout(callback, randInt(1000), x / 4);\n};\n\nconst computation = waterfall(add5, mult3, sub2, split, add, div4);\ncomputation(console.log, 5); // -&gt; 14\n\n// same as:\n\nconst computation2 = (input, callback) =&gt; {\n  const f6 = x =&gt; div4(callback, x);\n  const f5 = (x, y) =&gt; add(f6, x, y);\n  const f4 = x =&gt; split(f5, x);\n  const f3 = x =&gt; sub2(f4, x);\n  const f2 = x =&gt; mult3(f3, x);\n  add5(f2, input);\n};</code></pre> <ul> <li><strong>\u5c55\u793a reduce \u4e0e reduceRight \u4e4b\u95f4\u7684\u533a\u522b</strong></li> </ul> <pre><code class=language-js>var a = [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;];\nvar left = a.reduce(function (prev, cur) {\n  return prev + cur;\n});\nvar right = a.reduceRight(function (prev, cur) {\n  return prev + cur;\n});\n\nconsole.log(left); // &quot;12345&quot;\nconsole.log(right); // &quot;54321&quot;</code></pre> <ul> <li><strong>\u5b9a\u4e49\u53ef\u7ec4\u5408\u51fd\u6570</strong></li> </ul> <pre><code class=language-js>const compose = (...args) =&gt; value =&gt; args.reduceRight((acc, fn) =&gt; fn(acc), value);\n\nconst inc = n =&gt; n + 1;\nconst double = n =&gt; n * 2;\n\nconsole.log(compose(double, inc)(2)); // 6\nconsole.log(compose(inc, double)(2)); // 5</code></pre> <h3 id=arrayprototypereverse>Array.prototype.reverse()</h3> <blockquote> <p><code>reverse()</code> \u65b9\u6cd5\u5c06\u6570\u7ec4\u4e2d\u5143\u7d20\u7684\u4f4d\u7f6e\u98a0\u5012\uff0c\u5e76\u8fd4\u56de\u8be5\u6570\u7ec4\u3002\u6570\u7ec4\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u4f1a\u53d8\u6210\u6700\u540e\u4e00\u4e2a\uff0c\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u53d8\u6210\u7b2c\u4e00\u4e2a\u3002\u8be5\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4</p> </blockquote> <h4 id=\u8bed\u6cd5-24>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.reverse();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u98a0\u5012\u540e\u7684\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-24>\u793a\u4f8b</h4> <ul> <li><strong>\u98a0\u5012\u6570\u7ec4\u4e2d\u7684\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>const a = [1, 2, 3];\n\na.reverse();\nconsole.log(a); // [3, 2, 1]</code></pre> <ul> <li><strong>\u98a0\u5012\u7c7b\u6570\u7ec4\u4e2d\u7684\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>const a = { 0: 1, 1: 2, 2: 3, length: 3 };\n\nArray.prototype.reverse.call(a); //same syntax for using apply()\nconsole.log(a); // {0: 3, 1: 2, 2: 1, length: 3}</code></pre> <h3 id=arrayprototypeshift>Array.prototype.shift()</h3> <blockquote> <p><code>shift()</code> \u65b9\u6cd5\u4ece\u6570\u7ec4\u4e2d\u5220\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\u7684\u503c\u3002\u6b64\u65b9\u6cd5\u66f4\u6539\u6570\u7ec4\u7684\u957f\u5ea6</p> </blockquote> <h4 id=\u8bed\u6cd5-25>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.shift();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4ece\u6570\u7ec4\u4e2d\u5220\u9664\u7684\u5143\u7d20; \u5982\u679c\u6570\u7ec4\u4e3a\u7a7a\u5219\u8fd4\u56de undefined</p> <h4 id=\u793a\u4f8b-25>\u793a\u4f8b</h4> <ul> <li><strong>\u79fb\u9664\u6570\u7ec4\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>let myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;mandarin&#39;, &#39;surgeon&#39;];\nvar shifted = myFish.shift();\n\nconsole.log(&#39;\u8c03\u7528 shift \u4e4b\u540e: &#39; + myFish);\n// &quot;\u8c03\u7528 shift \u4e4b\u540e: clown,mandarin,surgeon&quot;\n\nconsole.log(&#39;\u88ab\u5220\u9664\u7684\u5143\u7d20: &#39; + shifted);\n// &quot;\u88ab\u5220\u9664\u7684\u5143\u7d20: angel&quot;</code></pre> <ul> <li><strong>\u5728 while \u5faa\u73af\u4e2d\u4f7f\u7528 shift()</strong></li> </ul> <pre><code class=language-js>var names = [&#39;Andrew&#39;, &#39;Edward&#39;, &#39;Paul&#39;, &#39;Chris&#39;, &#39;John&#39;];\n\nwhile ((i = names.shift()) !== undefined) {\n  console.log(i);\n}\n// Andrew, Edward, Paul, Chris, John</code></pre> <h3 id=arrayprototypeslice>Array.prototype.slice()</h3> <blockquote> <p><code>slice()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u5bf9\u8c61\uff0c\u8fd9\u4e00\u5bf9\u8c61\u662f\u4e00\u4e2a\u7531 <code>begin</code> \u548c <code>end</code> \u51b3\u5b9a\u7684\u539f\u6570\u7ec4\u7684\u6d45\u62f7\u8d1d\uff08\u5305\u62ec <code>begin</code>\uff0c\u4e0d\u5305\u62ec <code>end</code>\uff09\u3002\u539f\u59cb\u6570\u7ec4\u4e0d\u4f1a\u88ab\u6539\u53d8</p> </blockquote> <h4 id=\u8bed\u6cd5-26>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.slice([begin[, end]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>begin</td> <td>\u63d0\u53d6\u8d77\u59cb\u5904\u7684\u7d22\u5f15\uff08\u4ece 0 \u5f00\u59cb\uff09\uff0c\u4ece\u8be5\u7d22\u5f15\u5f00\u59cb\u63d0\u53d6\u539f\u6570\u7ec4\u5143\u7d20<code>[\u53ef\u9009]</code></td> </tr> <tr> <td>end</td> <td>\u63d0\u53d6\u7ec8\u6b62\u5904\u7684\u7d22\u5f15\uff08\u4ece 0 \u5f00\u59cb\uff09\uff0c\u5728\u8be5\u7d22\u5f15\u5904\u7ed3\u675f\u63d0\u53d6\u539f\u6570\u7ec4\u5143\u7d20<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4e00\u4e2a\u542b\u6709\u88ab\u63d0\u53d6\u5143\u7d20\u7684\u65b0\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-26>\u793a\u4f8b</h4> <ul> <li><strong>\u8fd4\u56de\u73b0\u6709\u6570\u7ec4\u7684\u4e00\u90e8\u5206</strong></li> </ul> <pre><code class=language-js>var fruits = [&#39;Banana&#39;, &#39;Orange&#39;, &#39;Lemon&#39;, &#39;Apple&#39;, &#39;Mango&#39;];\nvar citrus = fruits.slice(1, 3);\n\n// fruits : [&#39;Banana&#39;, &#39;Orange&#39;, &#39;Lemon&#39;, &#39;Apple&#39;, &#39;Mango&#39;]\n// citrus : [&#39;Orange&#39;,&#39;Lemon&#39;]</code></pre> <ul> <li><strong>\u4f7f\u7528 slice</strong></li> </ul> <pre><code class=language-js>// \u4f7f\u7528 slice \u65b9\u6cd5\u4ece myCar \u4e2d\u521b\u5efa\u4e00\u4e2a newCar\u3002\nvar myHonda = { color: &#39;red&#39;, wheels: 4, engine: { cylinders: 4, size: 2.2 } };\nvar myCar = [myHonda, 2, &#39;cherry condition&#39;, &#39;purchased 1997&#39;];\nvar newCar = myCar.slice(0, 2);\n\n// \u8f93\u51fa myCar\u3001newCar \u4ee5\u53ca\u5404\u81ea\u7684 myHonda \u5bf9\u8c61\u5f15\u7528\u7684 color \u5c5e\u6027\u3002\nconsole.log(&#39; myCar = &#39; + JSON.stringify(myCar));\nconsole.log(&#39;newCar = &#39; + JSON.stringify(newCar));\nconsole.log(&#39; myCar[0].color = &#39; + JSON.stringify(myCar[0].color));\nconsole.log(&#39;newCar[0].color = &#39; + JSON.stringify(newCar[0].color));\n\n// \u6539\u53d8 myHonda \u5bf9\u8c61\u7684 color \u5c5e\u6027.\nmyHonda.color = &#39;purple&#39;;\nconsole.log(&#39;The new color of my Honda is &#39; + myHonda.color);\n\n//\u8f93\u51fa myCar\u3001newCar \u4e2d\u5404\u81ea\u7684 myHonda \u5bf9\u8c61\u5f15\u7528\u7684 color \u5c5e\u6027\u3002\nconsole.log(&#39; myCar[0].color = &#39; + myCar[0].color);\nconsole.log(&#39;newCar[0].color = &#39; + newCar[0].color);</code></pre> <ul> <li><strong>\u7c7b\u6570\u7ec4\uff08Array-like\uff09\u5bf9\u8c61</strong></li> </ul> <pre><code class=language-js>function list() {\n  return Array.prototype.slice.call(arguments);\n}\n\nvar list1 = list(1, 2, 3); // [1, 2, 3]</code></pre> <p>\u4f60\u53ef\u4ee5\u4f7f\u7528 bind \u6765\u7b80\u5316\u8be5\u8fc7\u7a0b</p> <pre><code class=language-js>var unboundSlice = Array.prototype.slice;\nvar slice = Function.prototype.call.bind(unboundSlice);\n\nfunction list() {\n  return slice(arguments);\n}\n\nvar list1 = list(1, 2, 3); // [1, 2, 3]</code></pre> <h3 id=arrayprototypesome>Array.prototype.some()</h3> <blockquote> <p><code>some()</code> \u65b9\u6cd5\u6d4b\u8bd5\u6570\u7ec4\u4e2d\u662f\u4e0d\u662f\u81f3\u5c11\u6709 1 \u4e2a\u5143\u7d20\u901a\u8fc7\u4e86\u88ab\u63d0\u4f9b\u7684\u51fd\u6570\u6d4b\u8bd5\u3002\u5b83\u8fd4\u56de\u7684\u662f\u4e00\u4e2a <code>Boolean</code> \u7c7b\u578b\u7684\u503c</p> </blockquote> <h4 id=\u8bed\u6cd5-27>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.some(callback(element[, index[, array]])[, thisArg])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>callback</td> <td>\u7528\u6765\u6d4b\u8bd5\u6bcf\u4e2a\u5143\u7d20\u7684\u51fd\u6570<code>[\u53ef\u9009]</code>\uff1b<code>element\uff1a</code>\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5143\u7d20\uff1b<code>index\uff1a</code>\u6570\u7ec4\u4e2d\u6b63\u5728\u5904\u7406\u7684\u5143\u7d20\u7684\u7d22\u5f15\u503c<code>[\u53ef\u9009]</code>\uff1b<code>array\uff1a</code>some()\u88ab\u8c03\u7528\u7684\u6570\u7ec4<code>[\u53ef\u9009]</code></td> </tr> <tr> <td>thisArg</td> <td>\u6267\u884c callback \u65f6\u4f7f\u7528\u7684 this \u503c<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6570\u7ec4\u4e2d\u6709\u81f3\u5c11\u4e00\u4e2a\u5143\u7d20\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u7684\u6d4b\u8bd5\u5c31\u4f1a\u8fd4\u56de true\uff1b\u6240\u6709\u5143\u7d20\u90fd\u6ca1\u6709\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u7684\u6d4b\u8bd5\u8fd4\u56de\u503c\u624d\u4f1a\u4e3a false\u3002</p> <h4 id=\u793a\u4f8b-27>\u793a\u4f8b</h4> <ul> <li><strong>\u6d4b\u8bd5\u6570\u7ec4\u5143\u7d20\u7684\u503c</strong></li> </ul> <pre><code class=language-js>function isBiggerThan10(element, index, array) {\n  return element &gt; 10;\n}\n\n[2, 5, 8, 1, 4].some(isBiggerThan10); // false\n[12, 5, 8, 1, 4].some(isBiggerThan10); // true</code></pre> <ul> <li><strong>\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u6d4b\u8bd5\u6570\u7ec4\u5143\u7d20\u7684\u503c</strong></li> </ul> <pre><code class=language-js>[2, 5, 8, 1, 4].some(x =&gt; x &gt; 10); // false\n[12, 5, 8, 1, 4].some(x =&gt; x &gt; 10); // true</code></pre> <ul> <li><strong>\u5224\u65ad\u6570\u7ec4\u5143\u7d20\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u503c</strong></li> </ul> <pre><code class=language-js>var fruits = [&#39;apple&#39;, &#39;banana&#39;, &#39;mango&#39;, &#39;guava&#39;];\n\nfunction checkAvailability(arr, val) {\n  return arr.some(function (arrVal) {\n    return val === arrVal;\n  });\n}\n\ncheckAvailability(fruits, &#39;kela&#39;); // false\ncheckAvailability(fruits, &#39;banana&#39;); // true</code></pre> <ul> <li><strong>\u4f7f\u7528\u7bad\u5934\u51fd\u6570\u5224\u65ad\u6570\u7ec4\u5143\u7d20\u4e2d\u662f\u5426\u5b58\u5728\u67d0\u4e2a\u503c</strong></li> </ul> <pre><code class=language-js>var fruits = [&#39;apple&#39;, &#39;banana&#39;, &#39;mango&#39;, &#39;guava&#39;];\n\nfunction checkAvailability(arr, val) {\n  return arr.some(arrVal =&gt; val === arrVal);\n}\n\ncheckAvailability(fruits, &#39;kela&#39;); // false\ncheckAvailability(fruits, &#39;banana&#39;); // true</code></pre> <ul> <li><strong>\u5c06\u4efb\u610f\u503c\u8f6c\u6362\u4e3a\u5e03\u5c14\u7c7b\u578b</strong></li> </ul> <pre><code class=language-js>var TRUTHY_VALUES = [true, &#39;true&#39;, 1];\n\nfunction getBoolean(value) {\n  &#39;use strict&#39;;\n\n  if (typeof value === &#39;string&#39;) {\n    value = value.toLowerCase().trim();\n  }\n\n  return TRUTHY_VALUES.some(function (t) {\n    return t === value;\n  });\n}\n\ngetBoolean(false); // false\ngetBoolean(&#39;false&#39;); // false\ngetBoolean(1); // true\ngetBoolean(&#39;true&#39;); // true</code></pre> <h3 id=arrayprototypesort>Array.prototype.sort()</h3> <blockquote> <p><code>sort()</code> \u65b9\u6cd5\u7528\u539f\u5730\u7b97\u6cd5\u5bf9\u6570\u7ec4\u7684\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u8fd4\u56de\u6570\u7ec4\u3002\u9ed8\u8ba4\u6392\u5e8f\u987a\u5e8f\u662f\u5728\u5c06\u5143\u7d20\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u6bd4\u8f83\u5b83\u4eec\u7684 <code>UTF-16</code> \u4ee3\u7801\u5355\u5143\u503c\u5e8f\u5217\u65f6\u6784\u5efa\u7684</p> </blockquote> <h4 id=\u8bed\u6cd5-28>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.sort([compareFunction]);</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>compareFunction</td> <td>\u7528\u6765\u6307\u5b9a\u6309\u67d0\u79cd\u987a\u5e8f\u8fdb\u884c\u6392\u5217\u7684\u51fd\u6570\uff1b<code>firstEl\uff1a</code>\u7b2c\u4e00\u4e2a\u7528\u4e8e\u6bd4\u8f83\u7684\u5143\u7d20\uff1b<code>secondEl\uff1a</code>\u7b2c\u4e8c\u4e2a\u7528\u4e8e\u6bd4\u8f83\u7684\u5143\u7d20</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6392\u5e8f\u540e\u7684\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-28>\u793a\u4f8b</h4> <pre><code class=language-js>var numbers = [4, 2, 5, 1, 3];\nnumbers.sort(function (a, b) {\n  return a - b;\n});\nconsole.log(numbers);\n\nvar numbers = [4, 2, 5, 1, 3];\nnumbers.sort((a, b) =&gt; a - b);\nconsole.log(numbers);\n\n// [1, 2, 3, 4, 5]</code></pre> <p>\u5bf9\u8c61\u53ef\u4ee5\u6309\u7167\u67d0\u4e2a\u5c5e\u6027\u6392\u5e8f\uff1a</p> <pre><code class=language-js>var items = [\n  { name: &#39;Edward&#39;, value: 21 },\n  { name: &#39;Sharpe&#39;, value: 37 },\n  { name: &#39;And&#39;, value: 45 },\n  { name: &#39;The&#39;, value: -12 },\n  { name: &#39;Magnetic&#39; },\n  { name: &#39;Zeros&#39;, value: 37 }\n];\n\n// sort by value\nitems.sort(function (a, b) {\n  return a.value - b.value;\n});\n\n// sort by name\nitems.sort(function (a, b) {\n  var nameA = a.name.toUpperCase(); // ignore upper and lowercase\n  var nameB = b.name.toUpperCase(); // ignore upper and lowercase\n  if (nameA &lt; nameB) {\n    return -1;\n  }\n  if (nameA &gt; nameB) {\n    return 1;\n  }\n\n  // names must be equal\n\n  return 0;\n});</code></pre> <ul> <li><strong>\u521b\u5efa\u3001\u663e\u793a\u53ca\u6392\u5e8f\u6570\u7ec4</strong></li> </ul> <pre><code class=language-js>var stringArray = [&#39;Blue&#39;, &#39;Humpback&#39;, &#39;Beluga&#39;];\nvar numericStringArray = [&#39;80&#39;, &#39;9&#39;, &#39;700&#39;];\nvar numberArray = [40, 1, 5, 200];\nvar mixedNumericArray = [&#39;80&#39;, &#39;9&#39;, &#39;700&#39;, 40, 1, 5, 200];\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\nconsole.log(&#39;stringArray:&#39; + stringArray.join());\n// stringArray: Blue,Humpback,Beluga\nconsole.log(&#39;Sorted:&#39; + stringArray.sort());\n// Sorted: Beluga,Blue,Humpback\n\nconsole.log(&#39;numberArray:&#39; + numberArray.join());\n// numberArray: 40,1,5,200\nconsole.log(&#39;Sorted without a compare function:&#39; + numberArray.sort());\n// Sorted without a compare function: 1,200,40,5\nconsole.log(&#39;Sorted with compareNumbers:&#39; + numberArray.sort(compareNumbers));\n// Sorted with compareNumbers: 1,5,40,200\n\nconsole.log(&#39;numericStringArray:&#39; + numericStringArray.join());\n// numericStringArray: 80,9,700\nconsole.log(&#39;Sorted without a compare function:&#39; + numericStringArray.sort());\n// Sorted without a compare function: 700,80,9\nconsole.log(&#39;Sorted with compareNumbers:&#39; + numericStringArray.sort(compareNumbers));\n// Sorted with compareNumbers: 9,80,700\n\nconsole.log(&#39;mixedNumericArray:&#39; + mixedNumericArray.join());\n// mixedNumericArray: 80,9,700,40,1,5,200\nconsole.log(&#39;Sorted without a compare function:&#39; + mixedNumericArray.sort());\n// Sorted without a compare function: 1,200,40,5,700,80,9\nconsole.log(&#39;Sorted with compareNumbers:&#39; + mixedNumericArray.sort(compareNumbers));\n// Sorted with compareNumbers: 1,5,9,40,80,200,700</code></pre> <ul> <li><strong>\u5bf9\u975e ASCII \u5b57\u7b26\u6392\u5e8f</strong></li> </ul> <pre><code class=language-js>var items = [&#39;r\xe9serv\xe9&#39;, &#39;premier&#39;, &#39;clich\xe9&#39;, &#39;communiqu\xe9&#39;, &#39;caf\xe9&#39;, &#39;adieu&#39;];\nitems.sort(function (a, b) {\n  return a.localeCompare(b);\n});\n\n// items is [&#39;adieu&#39;, &#39;caf\xe9&#39;, &#39;clich\xe9&#39;, &#39;communiqu\xe9&#39;, &#39;premier&#39;, &#39;r\xe9serv\xe9&#39;]</code></pre> <ul> <li><strong>\u4f7f\u7528\u6620\u5c04\u6539\u5584\u6392\u5e8f</strong></li> </ul> <pre><code class=language-js>// \u9700\u8981\u88ab\u6392\u5e8f\u7684\u6570\u7ec4\nvar list = [&#39;Delta&#39;, &#39;alpha&#39;, &#39;CHARLIE&#39;, &#39;bravo&#39;];\n\n// \u5bf9\u9700\u8981\u6392\u5e8f\u7684\u6570\u5b57\u548c\u4f4d\u7f6e\u7684\u4e34\u65f6\u5b58\u50a8\nvar mapped = list.map(function (el, i) {\n  return { index: i, value: el.toLowerCase() };\n});\n\n// \u6309\u7167\u591a\u4e2a\u503c\u6392\u5e8f\u6570\u7ec4\nmapped.sort(function (a, b) {\n  return +(a.value &gt; b.value) || +(a.value === b.value) - 1;\n});\n\n// \u6839\u636e\u7d22\u5f15\u5f97\u5230\u6392\u5e8f\u7684\u7ed3\u679c\nvar result = mapped.map(function (el) {\n  return list[el.index];\n});</code></pre> <h3 id=arrayprototypesplice>Array.prototype.splice()</h3> <blockquote> <p><code>splice()</code> \u65b9\u6cd5\u901a\u8fc7\u5220\u9664\u6216\u66ff\u6362\u73b0\u6709\u5143\u7d20\u6216\u8005\u539f\u5730\u6dfb\u52a0\u65b0\u7684\u5143\u7d20\u6765\u4fee\u6539\u6570\u7ec4,\u5e76\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u88ab\u4fee\u6539\u7684\u5185\u5bb9\u3002\u6b64\u65b9\u6cd5\u4f1a\u6539\u53d8\u539f\u6570\u7ec4</p> </blockquote> <h4 id=\u8bed\u6cd5-29>\u8bed\u6cd5</h4> <pre><code class=language-js>array.splice(start[, deleteCount[, item1[, item2[, ...]]]])</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>start</td> <td>\u6307\u5b9a\u4fee\u6539\u7684\u5f00\u59cb\u4f4d\u7f6e\uff08\u4ece 0 \u8ba1\u6570\uff09</td> </tr> <tr> <td>deleteCount</td> <td>\u6574\u6570\uff0c\u8868\u793a\u8981\u79fb\u9664\u7684\u6570\u7ec4\u5143\u7d20\u7684\u4e2a\u6570<code>[\u53ef\u9009]</code></td> </tr> <tr> <td>item1, item2, ...</td> <td>\u8981\u6dfb\u52a0\u8fdb\u6570\u7ec4\u7684\u5143\u7d20,\u4ece start \u4f4d\u7f6e\u5f00\u59cb,\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u5219 splice() \u5c06\u53ea\u5220\u9664\u6570\u7ec4\u5143\u7d20<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u7531\u88ab\u5220\u9664\u7684\u5143\u7d20\u7ec4\u6210\u7684\u4e00\u4e2a\u6570\u7ec4\u3002\u5982\u679c\u53ea\u5220\u9664\u4e86\u4e00\u4e2a\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u53ea\u5305\u542b\u4e00\u4e2a\u5143\u7d20\u7684\u6570\u7ec4\u3002\u5982\u679c\u6ca1\u6709\u5220\u9664\u5143\u7d20\uff0c\u5219\u8fd4\u56de\u7a7a\u6570\u7ec4</p> <h4 id=\u793a\u4f8b-29>\u793a\u4f8b</h4> <ul> <li><strong>\u4ece\u7b2c 2 \u4f4d\u5f00\u59cb\u5220\u9664 0 \u4e2a\u5143\u7d20\uff0c\u63d2\u5165\u201cdrum\u201d</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;mandarin&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(2, 0, &#39;drum&#39;);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;angel&quot;, &quot;clown&quot;, &quot;drum&quot;, &quot;mandarin&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [], \u6ca1\u6709\u5143\u7d20\u88ab\u5220\u9664</code></pre> <ul> <li><strong>\u4ece\u7b2c 2 \u4f4d\u5f00\u59cb\u5220\u9664 0 \u4e2a\u5143\u7d20\uff0c\u63d2\u5165\u201cdrum\u201d \u548c &quot;guitar&quot;</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;mandarin&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(2, 0, &#39;drum&#39;, &#39;guitar&#39;);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;angel&quot;, &quot;clown&quot;, &quot;drum&quot;, &quot;guitar&quot;, &quot;mandarin&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [], \u6ca1\u6709\u5143\u7d20\u88ab\u5220\u9664</code></pre> <ul> <li><strong>\u4ece\u7b2c 3 \u4f4d\u5f00\u59cb\u5220\u9664 1 \u4e2a\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;drum&#39;, &#39;mandarin&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(3, 1);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;angel&quot;, &quot;clown&quot;, &quot;drum&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [&quot;mandarin&quot;]</code></pre> <ul> <li><strong>\u4ece\u7b2c 2 \u4f4d\u5f00\u59cb\u5220\u9664 1 \u4e2a\u5143\u7d20\uff0c\u63d2\u5165\u201ctrumpet\u201d</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;drum&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(2, 1, &#39;trumpet&#39;);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;angel&quot;, &quot;clown&quot;, &quot;trumpet&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [&quot;drum&quot;]</code></pre> <ul> <li><strong>\u4ece\u7b2c 0 \u4f4d\u5f00\u59cb\u5220\u9664 2 \u4e2a\u5143\u7d20\uff0c\u63d2\u5165&quot;parrot&quot;\u3001&quot;anemone&quot;\u548c&quot;blue&quot;</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;trumpet&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(0, 2, &#39;parrot&#39;, &#39;anemone&#39;, &#39;blue&#39;);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;parrot&quot;, &quot;anemone&quot;, &quot;blue&quot;, &quot;trumpet&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [&quot;angel&quot;, &quot;clown&quot;]</code></pre> <ul> <li><strong>\u4ece\u7b2c 2 \u4f4d\u5f00\u59cb\u5220\u9664 2 \u4e2a\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;parrot&#39;, &#39;anemone&#39;, &#39;blue&#39;, &#39;trumpet&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(myFish.length - 3, 2);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;parrot&quot;, &quot;anemone&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [&quot;blue&quot;, &quot;trumpet&quot;]</code></pre> <ul> <li><strong>\u4ece\u5012\u6570\u7b2c 2 \u4f4d\u5f00\u59cb\u5220\u9664 1 \u4e2a\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;mandarin&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(-2, 1);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;angel&quot;, &quot;clown&quot;, &quot;sturgeon&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [&quot;mandarin&quot;]</code></pre> <ul> <li><strong>\u4ece\u7b2c 2 \u4f4d\u5f00\u59cb\u5220\u9664\u6240\u6709\u5143\u7d20</strong></li> </ul> <pre><code class=language-js>var myFish = [&#39;angel&#39;, &#39;clown&#39;, &#39;mandarin&#39;, &#39;sturgeon&#39;];\nvar removed = myFish.splice(2);\n\n// \u8fd0\u7b97\u540e\u7684 myFish: [&quot;angel&quot;, &quot;clown&quot;]\n// \u88ab\u5220\u9664\u7684\u5143\u7d20: [&quot;mandarin&quot;, &quot;sturgeon&quot;]</code></pre> <h3 id=arrayprototypetolocalestring>Array.prototype.toLocaleString()</h3> <blockquote> <p><code>toLocaleString()</code> \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u8868\u793a\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u3002\u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u5c06\u4f7f\u7528\u5404\u81ea\u7684 <code>toLocaleString</code> \u65b9\u6cd5\u8f6c\u6210\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e9b\u5b57\u7b26\u4e32\u5c06\u4f7f\u7528\u4e00\u4e2a\u7279\u5b9a\u8bed\u8a00\u73af\u5883\u7684\u5b57\u7b26\u4e32\uff08\u4f8b\u5982\u4e00\u4e2a\u9017\u53f7 &quot;,&quot;\uff09\u9694\u5f00</p> </blockquote> <h4 id=\u8bed\u6cd5-30>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.toLocaleString([locales[,options]]);</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>locales</td> <td>\u5e26\u6709 BCP 47 \u8bed\u8a00\u6807\u8bb0\u7684\u5b57\u7b26\u4e32\u6216\u5b57\u7b26\u4e32\u6570\u7ec4<code>[\u53ef\u9009]</code></td> </tr> <tr> <td>options</td> <td>\u4e00\u4e2a\u53ef\u914d\u7f6e\u5c5e\u6027\u7684\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u6570\u5b57 Number.prototype.toLocaleString()\uff0c\u5bf9\u4e8e\u65e5\u671f Date.prototype.toLocaleString()<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u8868\u793a\u6570\u7ec4\u5143\u7d20\u7684\u5b57\u7b26\u4e32</p> <h4 id=\u793a\u4f8b-30>\u793a\u4f8b</h4> <ul> <li><strong>\u4f7f\u7528 locales \u548c options</strong></li> </ul> <pre><code class=language-js>var prices = [&#39;\uffe57&#39;, 500, 8123, 12];\nprices.toLocaleString(&#39;ja-JP&#39;, { style: &#39;currency&#39;, currency: &#39;JPY&#39; });\n\n// &quot;\uffe57,\uffe5500,\uffe58,123,\uffe512&quot;</code></pre> <h3 id=arrayprototypetosource>Array.prototype.toSource()</h3> <blockquote> <p>\u8be5\u7279\u6027\u662f\u975e\u6807\u51c6\u7684\uff0c\u8bf7\u5c3d\u91cf\u4e0d\u8981\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u5b83\uff01</p> </blockquote> <h4 id=\u8bed\u6cd5-31>\u8bed\u6cd5</h4> <pre><code class=language-js>array.toSource();</code></pre> <h4 id=\u793a\u4f8b-31>\u793a\u4f8b</h4> <p>\u67e5\u770b\u6570\u7ec4\u7684\u6e90\u7801</p> <pre><code class=language-js>var alpha = new Array(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);\n\nalpha.toSource(); //\u8fd4\u56de[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</code></pre> <h3 id=arrayprototypetostring>Array.prototype.toString()</h3> <blockquote> <p><code>toString()</code> \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u6307\u5b9a\u7684\u6570\u7ec4\u53ca\u5176\u5143\u7d20</p> </blockquote> <h4 id=\u8bed\u6cd5-32>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.toString();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4e00\u4e2a\u8868\u793a\u6307\u5b9a\u7684\u6570\u7ec4\u53ca\u5176\u5143\u7d20\u7684\u5b57\u7b26\u4e32</p> <h4 id=\u793a\u4f8b-32>\u793a\u4f8b</h4> <pre><code class=language-js>[1, 2, 3].toString();\n// &#39;1,2,3&#39;;\n\n[&#39;122&#39;, 222, { a: 11 }].toString();\n// &quot;122,222,[object Object]&quot;</code></pre> <h3 id=arrayprototypeunshift>Array.prototype.unshift()</h3> <blockquote> <p><code>unshift()</code> \u65b9\u6cd5\u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u6dfb\u52a0\u5230\u6570\u7ec4\u7684\u5f00\u5934\uff0c\u5e76\u8fd4\u56de\u8be5\u6570\u7ec4\u7684\u65b0\u957f\u5ea6(\u8be5\u65b9\u6cd5\u4fee\u6539\u539f\u6709\u6570\u7ec4)</p> </blockquote> <h4 id=\u8bed\u6cd5-33>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.unshift(element1, ..., elementN)</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>elementN</td> <td>\u8981\u6dfb\u52a0\u5230\u6570\u7ec4\u5f00\u5934\u7684\u5143\u7d20\u6216\u591a\u4e2a\u5143\u7d20</td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u5f53\u4e00\u4e2a\u5bf9\u8c61\u8c03\u7528\u8be5\u65b9\u6cd5\u65f6\uff0c\u8fd4\u56de\u5176 length \u5c5e\u6027\u503c</p> <h4 id=\u793a\u4f8b-33>\u793a\u4f8b</h4> <pre><code class=language-js>let arr = [1, 2];\n\narr.unshift(0); // result of the call is 3, which is the new array length\n// arr is [0, 1, 2]\n\narr.unshift(-2, -1); // the new array length is 5\n// arr is [-2, -1, 0, 1, 2]\n\narr.unshift([-4, -3]); // the new array length is 6\n// arr is [[-4, -3], -2, -1, 0, 1, 2]\n\narr.unshift([-7, -6], [-5]); // the new array length is 8\n// arr is [ [-7, -6], [-5], [-4, -3], -2, -1, 0, 1, 2 ]</code></pre> <h3 id=arrayprototypevalues>Array.prototype.values()</h3> <blockquote> <p><code>values()</code> \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 <code>Array Iterator</code> \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5305\u542b\u6570\u7ec4\u6bcf\u4e2a\u7d22\u5f15\u7684\u503c</p> </blockquote> <h4 id=\u8bed\u6cd5-34>\u8bed\u6cd5</h4> <pre><code class=language-js>arr.values();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u4e00\u4e2a\u65b0\u7684 Array \u8fed\u4ee3\u5bf9\u8c61</p> <h4 id=\u793a\u4f8b-34>\u793a\u4f8b</h4> <ul> <li><strong>\u4f7f\u7528 for...of \u5faa\u73af\u8fdb\u884c\u8fed\u4ee3</strong></li> </ul> <pre><code class=language-js>let arr = [&#39;w&#39;, &#39;y&#39;, &#39;k&#39;, &#39;o&#39;, &#39;p&#39;];\nlet eArr = arr.values();\n\nfor (let letter of eArr) {\n  console.log(letter);\n} //&quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre> <p><code>Array.prototype.values</code> \u662f <code>Array.prototype[Symbol.iterator]</code> \u7684\u9ed8\u8ba4\u5b9e\u73b0</p> <pre><code class=language-js>Array.prototype.values === Array.prototype[Symbol.iterator]; // true</code></pre> <ul> <li><strong>\u4f7f\u7528 .next() \u8fed\u4ee3</strong></li> </ul> <pre><code class=language-js>var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;];\nvar iterator = arr.values();\niterator.next(); // Object { value: &quot;a&quot;, done: false }\niterator.next().value; // &quot;b&quot;\niterator.next()[&#39;value&#39;]; // &quot;c&quot;\niterator.next(); // Object { value: &quot;d&quot;, done: false }\niterator.next(); // Object { value: &quot;e&quot;, done: false }\niterator.next(); // Object { value: undefined, done: true }\niteraroe.next().value; // undefined</code></pre> <h3 id=arrayprototypeiterator>Array.prototype<a href="">@@iterator</a></h3> <blockquote> <p><code>@@iterator</code> \u5c5e\u6027\u548c <code>Array.prototype.values()</code> \u5c5e\u6027\u7684\u521d\u59cb\u503c\u662f\u540c\u4e00\u4e2a\u51fd\u6570\u5bf9\u8c61</p> </blockquote> <h4 id=\u8bed\u6cd5-35>\u8bed\u6cd5</h4> <pre><code class=language-js>arr[Symbol.iterator]();</code></pre> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> \u6570\u7ec4\u7684 iterator \u65b9\u6cd5\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0e values() \u8fd4\u56de\u503c\u76f8\u540c\uff0c arr[Symbol.iterator] \u5219\u4f1a\u8fd4\u56de values() \u51fd\u6570</p> <h4 id=\u793a\u4f8b-35>\u793a\u4f8b</h4> <ul> <li><strong>\u4f7f\u7528 for...of \u5faa\u73af\u8fdb\u884c\u8fed\u4ee3</strong></li> </ul> <pre><code class=language-js>var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;];\nvar eArr = arr[Symbol.iterator]();\n// \u6d4f\u89c8\u5668\u5fc5\u987b\u652f\u6301 for...of \u5faa\u73af\nfor (let letter of eArr) {\n  console.log(letter);\n}</code></pre> <ul> <li><strong>\u53e6\u4e00\u79cd\u8fed\u4ee3\u65b9\u5f0f</strong></li> </ul> <pre><code class=language-js>var arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;];\nvar eArr = arr[Symbol.iterator]();\nconsole.log(eArr.next().value); // a\nconsole.log(eArr.next().value); // b\nconsole.log(eArr.next().value); // c\nconsole.log(eArr.next().value); // d\nconsole.log(eArr.next().value); // e</code></pre> <ul> <li><strong>Use Case for brace notation</strong></li> </ul> <pre><code class=language-js>function logIterable(it) {\n  var iterator = it[Symbol.iterator]();\n  // \u6d4f\u89c8\u5668\u5fc5\u987b\u652f\u6301 for...of \u5faa\u73af\n  for (let letter of iterator) {\n    console.log(letter);\n  }\n}\n\n// Array\nlogIterable([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]);\n// a\n// b\n// c\n\n// string\nlogIterable(&#39;abc&#39;);\n// a\n// b\n// c</code></pre> <h3 id=get-arrayspecies>get Array[@@species]</h3> <blockquote> <p><code>Array[@@species]</code> \u8bbf\u95ee\u5668\u5c5e\u6027\u8fd4\u56de <code>Array</code> \u7684\u6784\u9020\u51fd\u6570</p> </blockquote> <h4 id=\u8bed\u6cd5-36>\u8bed\u6cd5</h4> <pre><code class=language-js>Array[Symbol.species];</code></pre> <table> <thead> <tr> <th>\u53c2\u6570</th> <th>\u63cf\u8ff0</th> </tr> </thead> <tbody><tr> <td>separator</td> <td>\u6307\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u5206\u9694\u6570\u7ec4\u7684\u6bcf\u4e2a\u5143\u7d20<code>[\u53ef\u9009]</code></td> </tr> </tbody></table> <p><strong>\u8fd4\u56de\u503c\uff1a</strong> Array \u7684\u6784\u9020\u51fd\u6570</p> <h4 id=\u793a\u4f8b-36>\u793a\u4f8b</h4> <pre><code class=language-js>Array[Symbol.species]; // function Array()</code></pre> <p>\u5728\u7ee7\u627f\u7c7b\u7684\u5bf9\u8c61\u4e2d\uff08\u4f8b\u5982\u4f60\u81ea\u5b9a\u4e49\u7684\u6570\u7ec4 <code>MyArray</code>\uff09\uff0c<code>MyArray</code> \u7684 <code>species</code> \u5c5e\u6027\u8fd4\u56de\u7684\u662f <code>MyArray</code> \u8fd9\u4e2a\u6784\u9020\u51fd\u6570. \u7136\u800c\u4f60\u53ef\u80fd\u60f3\u8981\u8986\u76d6\u5b83\uff0c\u4ee5\u4fbf\u5728\u4f60\u7ee7\u627f\u7684\u5bf9\u8c61 <code>MyArray</code> \u4e2d\u8fd4\u56de\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570 <code>Array</code> :</p> <pre><code class=language-js>class MyArray extends Array {\n  // \u91cd\u5199 MyArray \u7684 species \u5c5e\u6027\u5230\u7236\u7c7b Array \u7684\u6784\u9020\u51fd\u6570\n  static get [Symbol.species]() {\n    return Array;\n  }\n}</code></pre> <h2 id=\u7ee7\u627f-function>\u7ee7\u627f Function</h2> <ul> <li>Function.prototype.apply()</li> <li>Function.prototype.bind()</li> <li>Function.prototype.call()</li> <li>Function.prototype.toString()</li> </ul> '},529:function(e,n,r){},530:function(e,n,r){},531:function(e,n,r){},556:function(e,n,r){"use strict";r.r(n);var t=r(29),o=r.n(t),a=r(53),l=r(57),c=r(58),s=r(59),i=r(60),d=r(0),u=r.n(d),p=r(63),g=r(206),h=r(207),m=r(212),y=r(227),b=r(62),f=r(253),v=r.n(f),A=r(28),q=r(215),j=r(254),x=r.n(j),k=r(228),w=r.n(k),S=(r(529),r(530),r(531),function(e){Object(i.a)(r,e);var n=Object(s.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={detail:null,types:[],tables:[],recommend:[]},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var e=Object(a.a)(o.a.mark((function e(){var n,r,t,a,l,c,s,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(q.a)(0),v.a.start(),n=!1,r=["895ff1c92f"],t=this.props.match.params.id,a=0,l=r;case 6:if(!(a<l.length)){e.next=17;break}if(l[a]!==t){e.next=13;break}return n=!0,e.abrupt("break",17);case 13:n=!1;case 14:a++,e.next=6;break;case 17:if(c=null,!n){e.next=25;break}return e.next=21,b.a.getArticleDetailById(t);case 21:(c=e.sent).html=(new w.a).mdParser.render(x.a),e.next=28;break;case 25:return e.next=27,b.a.getArticleDetail(t);case 27:c=e.sent;case 28:return s=[],c.html=c.html.replace(/<(h\d).*?>.*?<\/h\d>/g,(function(e,n){var r=e.replace(/<.*?>/g,""),t="tag-"+s.length;return s.push({id:t,hash:r,tag:n}),"<".concat(n,' id="').concat(t,'">').concat(r,"</").concat(n,">")})),this.setState({tables:s,detail:c}),e.next=33,b.a.getTypes().then((function(e){i.setState({types:A.a.getRandomArrayElements(e,3)})}));case 33:return e.next=35,b.a.getRecommendArticle(this.state.detail.objectId,this.state.detail.tid.objectId).then((function(e){i.setState({recommend:e})}));case 35:v.a.done();case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){Object(q.a)(document.querySelector("#"+e).offsetTop)}},{key:"goDetail",value:function(e){var n=this;this.props.history.push("/detail/".concat(e)),Object(q.a)(0),setTimeout((function(){n.setState({tables:[],detail:null},(function(){return n.componentDidMount()}))}),500)}},{key:"render",value:function(){var e=this,n=this.state.detail;return u.a.createElement(d.Fragment,null,u.a.createElement(g.a,null),u.a.createElement("main",{className:"detail enter"},n?u.a.createElement(d.Fragment,null,u.a.createElement("div",{className:"detail-header"},u.a.createElement(p.b,{className:"title",to:"/detail/".concat(n.objectId)},n.title),u.a.createElement("div",{className:"detail-meta"},u.a.createElement("span",{className:"detail-bao"},u.a.createElement("i",{className:"xwb meta-icon iconshijian"}),u.a.createElement("span",{className:"detail-des"},"\u53d1\u8868\u4e8e"),u.a.createElement("time",{title:"\u53d1\u8868\u65f6\u95f4"},n.createdAt)),u.a.createElement("span",{className:"meta-divider"},"|"),u.a.createElement("span",{className:"detail-bao"},u.a.createElement("i",{className:"xwb meta-icon iconwenjian"}),u.a.createElement("span",{className:"detail-des"},"\u5206\u7c7b\u4e8e"),u.a.createElement(p.b,{className:"detail-type",to:"/tabs/".concat(n.tid.objectId)},n.tid.name)),u.a.createElement("span",{className:"meta-divider"},"|"),u.a.createElement("span",{className:"detail-bao"},u.a.createElement("i",{className:"xwb meta-icon iconyanjing"}),u.a.createElement("span",{className:"detail-des"},"\u70ed\u5ea6\uff1a",n.visit)),u.a.createElement("p",{className:"meta-wordcount"},u.a.createElement("i",{className:"xwb meta-icon icontongji"}),u.a.createElement("span",{className:"detail-des"},"\u5b57\u8282\u7edf\u8ba1\uff1a",n.len)))),u.a.createElement("p",{className:"detail-til"},"\u524d\u8a00"),u.a.createElement("p",{className:"describe"},n.describe),u.a.createElement("p",{className:"detail-til"},"\u6b63\u6587"),u.a.createElement("div",{className:"detail-html",dangerouslySetInnerHTML:{__html:n.html}}),u.a.createElement("div",{className:"detail-end"},"END"),u.a.createElement("p",{className:"detail-til"},"\u66f4\u591a\u6807\u7b7e"),u.a.createElement("div",{className:"label-box"},this.state.types.map((function(e,n){return u.a.createElement(p.b,{className:"label-box-link",key:n,to:"/tabs/".concat(e.objectId)},e.name)}))),u.a.createElement("p",{className:"detail-til"},"\u76f8\u5173\u63a8\u8350"),u.a.createElement("div",{className:"recommend"},this.state.recommend.map((function(n,r){return u.a.createElement("p",{className:"recommend-link",key:r,onClick:function(){return e.goDetail(n.objectId)}},u.a.createElement("span",null,r+1,"\u3001"),n.title)})))):null,u.a.createElement(y.a,null),u.a.createElement(m.a,{tables:this.state.tables,top:!0,detail:!0,onClick:function(n){return e.handleClick(n)}})),u.a.createElement(h.a,null))}}]),r}(u.a.Component));n.default=S}}]);